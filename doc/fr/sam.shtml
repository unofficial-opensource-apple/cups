<HTML>
	<HEAD>
	<TITLE>CUPS - Manuel de l'administrateur CUPS</TITLE>
	<META NAME="author" CONTENT="Easy Software Products">
	<META NAME="translator" CONTENT="Marian REYT-LLABRES">
	<META NAME="copyright" CONTENT="Copyright 1997-2003, All Rights Reserved">
	<META NAME="docnumber" CONTENT="CUPS-SAM-1.1.14">
</HEAD>
<BODY BGCOLOR="#ffffff">

<H1 ALIGN="RIGHT"><A NAME="1">Préface</A></H1>
<P>Ce manuel de l'administrateur fournit les informations d'administration pour le
système d'impression CUPS<SUP>TM</SUP> (Common UNIX Printing System<SUP>TM</SUP>) version 1.1.14.</P>

<P><hr width="50%" size="1px" color="#000000"><I><b>Note du traducteur : </b>Amies lectrices, amis lecteurs, j'ai fait le choix de <b>ne pas traduire</b> l'expression anglaise <b>"default"</b> par la 
version française
habituellent utilisée <b>"par défaut"</b> que l'on doit, entre autres, à la documentation d'un célèbre système d'exploitation "ouvert à tous vents".
<br><br>
En effet, l'expression "par défaut" est normalement utilisée en mathématiques (arrondi "par défaut" ou "par excès", 
personnellement je cherche encore mon "imprimante par excès" !)
mais elle est abusivement employée en informatique pour signifier "donnée/comportement qui s'applique si l'on n'en 
précise pas <b>explicitement</b> la valeur/nature/teneur".
<br><br>
Or la langue française possède justement un mot pout exprimer ce concept 
: "implicite" (Larousse 1998 : "Qui est contenu dans une proposition sans être exprimé en termes précis formels; qui est la 
conséquence nécessaire."). Dans la mesure du possible, j'utiliserai
cet adjectif sauf dans les cas où son emploi n'est pas suffisamment <b>explicite</b> (sic !). Je lui
préfèrerai alors l'expression "... de base ..." ou l'adjectif "standard".
<br><br>
Ce choix est totalement personnel et le fait que j'ai fait l'effort (non négligeable) de traduire ces lignes pour vos yeux délicats suffit à le justifier! Si, par malheur, ma prose vous est insupportable,
je ne vous empêche aucunement de vous reporter à la version originale où vous retrouverez "default" entouré de tout le
reste... en anglais, bien sûr. Enfin, si vous avez une meilleure traduction, je suis preneur !
<br><br>
Malgré les très nombreuses relectures et corrections, certaines fautes de frappe, d'orthographe ou de grammaire ont pu échapper à ma vigilance (ou à celles de mes relecteurs/correcteurs). Merci de me les signaler afin de contribuer à
l'amélioration constante de la qualité du présent manuel.
<br><br>
Bonne lecture !
</I><hr width="50%" size="1px" color="#000000"></P>


<H2><A NAME="1_1">Aperçu du système</A></H2>

<P>CUPS fournit une couche d'impression portable pour les systèmes d'exploitation de
type UNIX&reg;. Il a été développé par <A HREF="http://www.easysw.com">Easy
 Software Products</A> pour promouvoir une solution d'impression standard pour
tous les vendeurs et utilisateurs d'UNIX. CUPS fournit des interfaces en ligne de
commande de type System V et Berkeley.
</P>

<P>CUPS utilise le protocol IPP (Internet Printing Protocol) comme base de l'administration
des travaux et files d'impression. Les protocoles LPD ("Line Printer Daemon"), SMB 
("Server Message Block"), et AppSocket (JetDirect) sont également pris en charge avec
des fontionnalités réduites. CUPS ajoute l'exploration réseau des imprimantes ("network 
printer browsing") et des options d'impression basées sur PPD ("PostScript Printer
Definition") pour prendre en charge l'impression "dans le monde réel" sous UNIX.
</P>

<P>CUPS inclut également une version adaptée de GNU/Ghostscript (actuellement basée
sur la version 5.50) et un module de rendu (RIP - Raster Image Processor) pour fichier image qui sont utilisés pour prendre
en charge les imprimantes non-PostScript. Des pilotes d'exemple (incluant ces filtres)
pour imprimantes HP et EPSON sont également inclus.
</P>

<!-- NEED 3in -->
<H2><A NAME="1_2">Aperçu du document</A></H2>
<P>
Ce manuel de l'administrateur est organisé de la manière suivante:
</P>

<UL>
<LI><A HREF="#OVERVIEW">1 - Aperçu du système d'impression</A></LI>
<LI><A HREF="#BUILDING_INSTALLING">2 - Construire et installer CUPS</A></LI>
<LI><A HREF="#MANAGING_PRINTERS">3 - Administration des imprimantes</A></LI>
<LI><A HREF="#PRINTER_CLASSES">4 - Classes d'imprimantes</A></LI>
<LI><A HREF="#CLIENT_SETUP">5 - Configuration côté client</A></LI>
<LI><A HREF="#PRINTING_MANAGEMENT">6 - Administration du système d'impression</A></LI>
<LI><A HREF="#PRINTING_OTHER">7 - Imprimer depuis et vers d'autres système</A></LI>
<LI><A HREF="#LICENSE">A - Licence d'utilisation du logiciel (NdT : en anglais)</A></LI>
<LI><A HREF="#COMMON_NETWORK">B - Réglages réseau courants</A></LI>
<LI><A HREF="#PRINTER_DRIVERS">C - Pilotes d'imprimantes</A></LI>
<LI><A HREF="#FILES">D - Liste des fichiers</A></LI>
<LI><A HREF="#FAQ">E - Résoudre les problèmes courants</A></LI>
</UL>
<H2><A NAME="1_3">Conventions d'écriture</A></H2>

<P>
<!-- NEED 3in -->
</P>
<H2><A NAME="1_4">Abréviations</A></H2>
 Les abréviations suivantes sont utilisées au cours de ce manuel:
<UL>
<DL>
<DT>ko</DT>
<DD>Kilo-octets, ou 1024 octets
<BR>&nbsp;</DD>
<DT>Mo</DT>
<DD>Méga-octets, ou 1048576 octets
<BR>&nbsp;</DD>
<DT>Go</DT>
<DD>Giga-octets, ou 1073741824 octets
<BR>&nbsp;</DD>
</DL>
</UL>
<H2><A NAME="1_5">Autres références</A></H2>
<UL>
<DL>
<DT>CUPS - Manuel du programmeur (en anglais)</DT>
<DD>Un guide du programmeur pour interagir avec CUPS ou y ajouter des extensions.
<BR>&nbsp;</DD>
<DT>CUPS - Manuel de l'utilisateur</DT>
<DD>Un guide d'utilisation pour l'utilisateur final du logiciel CUPS.
<BR>&nbsp;</DD>
</DL>
</UL>
<H1 ALIGN="RIGHT"><A NAME="OVERVIEW">1 - Aperçu du système d'impression</A></H1>
<P>Ce chapitre fournit un aperçu de la manière dont CUPS fonctionne.</P>
<H2><A NAME="2_1">Le problème d'impression</A></H2>
<P>Depuis des années<I> le problème d'impression</I> a empoisonné le monde UNIX.
Contrairement à Microsoft&reg; Windows&reg; ou Mac OS, UNIX n'a pas d'interface standard ou
de système en place pour prendre en charge les imprimantes. Parmi les solutions actuellement
disponibles, les systèmes Berkeley et System V sont prédominants.</P>

<P>
 Ces systèmes d'impressions prennent en charge les imprimantes de type matriciel texte ou les
 imprimantes PostScript (texte et graphique), et avec quelques ajustements il peuvent prendre en
 charge un grand nombre d'imprimantes et de formats de fichiers. Cependant, puisque chaque
 version de système d'exploitation UNIX utilise un système d'impression différent de celui 
 de son voisin, il est extrêmement difficile de développer des pilotes d'imprimantes pour une
 vaste gamme d'imprimantes et de systèmes d'exploitation. Ceci, combiné au faible nombre de
 clients pour chaque variante d'UNIX, a poussé les fabricants d'imprimantes à abandonner la prise en
 charge globale de tous les UNIX.
</P>

<P>
 CUPS est conçu pour éliminer <I>le problème d'impression</I>. Un système d'impression
 commun peut être utilisé par toutes les variantes d'UNIX pour prendre en charge les
 capacités d'impression dont les utilisateurs ont besoin. Les fabricants d'imprimantes peuvent
 utiliser l'interface modulaire des filtres pour développer un unique pilote qui prend en charge une
 large gamme de formats de fichiers et ce, sans presque aucun effort. Etant donné que CUPS fournit
 une interface compatible avec les commandes Berkeley et System V, les utilisateurs (et les applications)
 peuvent tirer bénéfice de cette nouvelle technologie sans avoir à faire de changements.
</P>

<H2><A NAME="2_2">La technologie</A></H2>

<P>
 CUPS est basé sur un standard émergeant d'Internet appelé IPP (Internet Printing Protocol). IPP a été adopté
 par des douzaines de fabricants d'imprimantes et de serveurs d'impression et est pris en charge par
 Microsoft Windows 2000.
</P>

<P>
 IPP définit un protocole standard pour imprimer ainsi qu'administrer les travaux d'impression et les options
 des imprimantes telles que la taille du support d'impression, la résolution, etc. Comme tout protocole de la pile
 TCP/IP, IPP peut être utilisé localement ou à travers Internet pour atteindre des imprimantes éloignées de centaines
 ou de milliers de kilomètres. Contrairement à d'autres protocoles de la pile TCP/IP, IPP prend en charge le
 contrôle d'accès, l'authentification et l'encryptage, ce qui fait de lui une solution d'impression bien plus efficace
 et sécurisée que ses ancêtres.
</P>

<P>
 IPP est une surcouche ajoutée au-dessus du protocole HTTP (HyperText Transport Protocol) qui est à la base
 des serveurs "web" sur l'Internet. Ceci permet aux utilisateurs de lire la documentation, vérifier les informations
 sur l'état des imprimantes ou du serveur, administrer les imprimantes, les classes d'imprimantes et les travaux
 d'impression en utilisant leur navigateur "web".
</P>

<P>
 CUPS fournit un système d'impression complet basé sur IPP/1.1 prenant en charge l'authentification
 "Basic", "Digest" et par certificats locaux ainsi qu'un contrôle d'accès basé sur l'utilisateur,
 le domaine ou l'adresse IP. L'encryptage TLS sera disponible dans une future version de CUPS.
</P>

<H2><A NAME="2_3">Travaux d'impression</A></H2>

<P>
 Tout fichier ou groupe de fichiers soumis à l'impression est appelé un <I>travail d'impression</I>. Les travaux
 d'impression sont identifiés par un nombre unique en commençant à 1 et sont affectés à une destination particulière,
 généralement une imprimante. Les travaux d'impression peuvent également inclure des options associées telles que la
 taille du support d'impression, le nombre de copies et la priorité dans la file d'impression.
</P>

<H2><A NAME="2_4">Classes d'imprimantes</A></H2>

<P>
 CUPS prend en charge des collections d'imprimantes connues sous le nom de <I>classes</I>. Les travaux d'impression
 transmis à une classe d'imprimantes sont envoyés à la première imprimante disponible dans la classe.
</P>

<H2><A NAME="2_5">Filtres</A></H2>

<P>Les filtres permettent à un utilisateur ou une application d'imprimer de nombreux types de documents sans
effort supplémentaire. Les travaux d'impressions envoyés au serveur CUPS sont filtrés avant d'être envoyés à
l'imprimante. Certains filtres convertissent les fichiers de travaux d'impression dans différents formats que
l'imprimante peut comprendre. D'autres ne font que des sélections de page et des tris.
</P>

<P>CUPS fournit des filtres pour imprimer de nombreux types de fichiers image, des fichier HP-GL/2,
fichiers PDF et texte. CUPS fournit également des filtres PostScript et RIP (Raster Image Processor) qui
convertissent les fichiers PostScript ou image en format "bitmap" qui peut être envoyé à une
imprimante de type "matriciel" (NdT : il s'agit ici, des imprimantes dont l'impression est générée au moyen d'une 
grille de points
comme l'étaient les vénérables imprimantes à aiguilles de notre enfance, mais pas seulement elles puisque les 
imprimantes à jet
d'encre actuelles sont également de type matriciel... par opposition aux imprimantes laser dont la méthode de génération
d'impression est différente.)
</P>

<H2><A NAME="2_6">Programmes d'arrière-plan (Backends)</A></H2>

<P>Les programmes d'arrière-plan effectuent le travail le plus important : ils envoient les données
d'impression à l'imprimante.
</P>

<P>CUPS fournit des programmes d'arrière-plan pour imprimer via des ports de type parallèle, série, USB et à travers un
réseau au moyen des protocoles IPP, JetDirect (AppSocket) et LPD (Line Printer Daemon). Des programmes d'arrière-plan
additionnels sont disponibles sous forme de paquetage de service réseau comme le programme d'arrière_plan SMB
inclus dans le célèbre logiciel SAMBA.
</P>

<P>Les programmes d'arrière-plan sont également utilisés pour déterminer les périphériques
disponibles. Au démarrage, chaque programme d'arrière-plan est interrogé afin de déterminer la liste des
périphériques qu'il prend en charge, ainsi que toute information disponible. Cela permet au programme d'arrière-plan
de gestion du port parallère d'indiquer à CUPS qu'une imprimante EPSON Stylus Color 600 est branchée sur le port
parallèle 1, par exemple.
</P>

<H2><A NAME="2_7">Pilotes d'imprimantes</A></H2>

<P>Les pilotes d'imprimantes de CUPS consistent en un ou plusieurs filtres spécifiques à une imprimante. CUPS inclut
des pilotes d'imprimantes d'exemple pour les imprimantes Deskjet et LaserJet Hewlett-Packard et les imprimantes EPSON jet
d'encre couleur Stylus Color, Stylus Photo et les modèles 9 et 24 aiguilles matricielles. Bien que ces pilotes ne produisent
pas des impressions de qualité optimale pour les différents modèles d'imprimantes, ils fournissent une impression de
base et démontrent comment vous pouvez écrire vos propres pilotes d'imprimantes et les incorporer dans CUPS.
</P>

<H2><A NAME="2_8">Réseau</A></H2>

<P>Les imprimantes et classes d'imprimantes sur le système local sont automatiquement partagées avec les autres systèmes
sur le réseau. Cela vous permet de configurer un système hôte pour tous les autres. Les utilisateurs pourront sélectionner
une imprimante locale par son nom ou une imprimante à distance en utilisant la syntaxe &quot;nom_imprimante@serveur&quot;.
</P>

<P>CUPS fournit également des <I>classes d'imprimantes implicites</I> (NdT : le terme "implicite" est ici la traduction
litérale du même mot anglais "implicit" et non celle de l'expression "default". cf. ma remarque dans la préface du présent manuel.
De toute façon, CUPS ne prévoit pas de "default class" c'est-à-dire de "classe de base", donc aucune ambiguïté possible 
ici.), qui sont des collections d'imprimantes ou
de classes d'imprimantes qui portent le même nom. Cela vous permet de configurer de multiples serveurs pointant vers
la même imprimante réseau physique, par exemple, de sorte que vous ne dépendez pas d'un seul serveur pour pouvoir
imprimer. Etant donné que cette méthode vous permet de travailler avec des classes d'imprimantes, vous pouvez configurer
de multiples serveurs et imprimantes sans jamais vous soucier d'un simple point en panne tant que tous les autres serveurs
ne tombent pas en panne en même temps.
</P>

<H1 ALIGN="RIGHT"><A NAME="BUILDING_INSTALLING">2 - Construire et installer CUPS</A></H1>

<P>Ce chapitre décrit comment construire et installer CUPS. Si vous installez une distribution binaire (précompilée) du produit,
veuillez vous reporter à la section,<A HREF="#BINARY"> Installer une distribution binaire</A>.
</P>

<H2><A NAME="3_1">Installer à partir d'une distribution du code source</A></H2>


<P>Cette section décrit comment compiler et installer CUPS sur votre système à partir du code source du produit.</P>

<H3><A NAME="REQUIREMENTS">Conditions nécessaires</A></H3>

<P>Vous aurez besoin d'un compilateur C et C++ conforme à la norme ANSI pour construire CUPS sur votre système.
Comme son nom l'indique, CUPS est conçu pour fonctionner sur le système d'exploitation UNIX, cependant la plupart des
librairies, des filtres et des programmes d'arrière-plan devraient également se compiler et fonctionner sous Microsoft Windows.
</P>

 <P>Pour les filtres de fichiers image et PostScript, vous aurez besoin des librairies JPEG, PNG, TIFF et ZLIB. CUPS
se construira sans elles mais avec des fonctionnalités singulièrement réduites. Easy Software Products maintient un
miroir des versions actuelles de ces librairies à l'adresse:
 </P>

<UL>
<PRE>
<A HREF="ftp://ftp.easysw.com/pub/libraries">ftp://ftp.easysw.com/pub/libraries</A>
</PRE>
</UL>

<P>Si vous faîtes des changements dans les pages de manuel vous aurez besoin de GNU groff ou d'un autre
paquetage compatible nroff. GNU groff est disponible à l'adresse:
</P>

<UL>
<PRE>
<A HREF="ftp://ftp.gnu.org/pub/groff">ftp://ftp.gnu.org/pub/groff</A>
</PRE>
</UL>

<P>La documentation est formatée en utilisant le programme HTMLDOC. Si vous voulez faire des changements, vous pouvez
obtenir le programme HTMLDOC à l'adresse:
<P>

<UL>
<PRE>
<A HREF="http://www.easysw.com/htmldoc">http://www.easysw.com/htmldoc</A>
</PRE>
</UL>

<P>Enfin, vous aurez besoin d'un programme <CODE>make</CODE> qui comprend les directives <CODE>include</CODE> - les
développeurs FreeBSD, NetBSD et OpenBSD devraient utiliser le programme <CODE>gmake</CODE>.
</P>

<H3><A NAME="COMPILING">Compiler CUPS</A></H3>

<P>CUPS utilise GNU autoconf pour configurer les "makefiles" et le code source pour votre système. Tapez simplement la
commande suivante pour configurer CUPS pour votre système:
</P>

<UL>
<PRE>
<B>./configure ENTREE</B>
</PRE>
</UL>

<P>L'installation standard installera CUPS dans les répertoires <VAR>/etc</VAR>, <VAR>/usr</VAR>, et <VAR>/var</VAR>
de votre système, ce qui écrasera toute commande d'impression existant déjà dans votre système. Utilisez l'option
<CODE>--prefix</CODE> pour installer CUPS à un autre emplacement:
</P>

<UL>
<PRE>
<B>./configure --prefix=/autre/répertoire ENTREE</B>
</PRE>
</UL>

<P>Si les librairies PNG, JPEG, TIFF, et ZLIB ne sont pas installées à un emplacement habituel du système (généralement
il s'agit de <VAR>/usr/include</VAR> et <VAR>/usr/lib</VAR>) vous devrez définir les variables d'environnement <CODE>CFLAGS</CODE>,
<CODE>CXXFLAGS</CODE>, et <CODE>LDFLAGS</CODE> avant d'exécuter la commande configure:
</P>

<UL>
<PRE>
<B>setenv CFLAGS &quot;-I/some/directory&quot; ENTREE</B>
<B>setenv CXXFLAGS &quot;-I/some/directory&quot; ENTREE</B>
<B>setenv LDFLAGS &quot;-L/some/directory&quot; ENTREE</B>
<B>setenv DSOFLAGS &quot;-L/some/directory&quot; ENTREE</B>
<B>./configure ... ENTREE</B>
</PRE>
</UL>
<P>ou:</P>
<UL>
<PRE>
<B>CFLAGS=&quot;-I/some/directory&quot;; export CFLAGS ENTREE</B>
<B>CXXFLAGS=&quot;-I/some/directory&quot;; export CXXFLAGS ENTREE</B>
<B>LDFLAGS=&quot;-L/some/directory&quot;; export LDFLAGS ENTREE</B>
<B>DSOFLAGS=&quot;-L/some/directory&quot;; export DSOFLAGS ENTREE</B>
<B>./configure ... ENTREE</B>
</PRE>
</UL>

<P>Pour activer le support de l'encryptage, vous devrez également activer l'option &quot;--enable-ssl&quot;:
</P>

<UL>
<PRE>
./configure --enable-ssl
</PRE>
</UL>

<P>La prise en charge SSL et TLS nécessite la librairie OpenSSL, disponible à l'adresse:
</P>

<UL>
<PRE>
<A HREF="http://www.openssl.org">http://www.openssl.org</A>
</PRE>
</UL>

<P>Si les en-têtes et les librairies OpenSSL ne sont pas installées dans les répertoires standards, utilisez les
options <CODE>--with-openssl-includes</CODE> et <CODE>--with-openssl-libs</CODE>:
</P>

<UL>
<PRE>
./configure --enable-ssl \
    --with-openssl-includes=/foo/bar/include \
    --with-openssl-libs=/foo/bar/lib
</PRE>
</UL>

<P>Une fois que vous avez configuré toutes ces choses, tapez simplement:
</P>

<UL>
<PRE>
<B>make ENTER</B>
</PRE>
</UL>

<P>pour compiler le logiciel.</P>

<!-- NEED 4in -->
</P>

<H3><A NAME="INSTALLING">Installer le logiciel</A></H3>

<P>Utilisez la cible &quot;install&quot;  pour installer le logiciel:
</P>

<UL>
<PRE>
<B>make install ENTREE</B>
</PRE>
</UL>
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> AVERTISSEMENT:</B>

<P>Installer CUPS écrasera votre système d'impression précédent. Si vous rencontrez des difficultés avec le logiciel
CUPS et devez revenir à votre ancien système d'impression, vous devrez réinstaller celui-ci à partir de CD originaux 
de votre système d'exploitation.
</P>

</TD></TR>
</TABLE>
</CENTER>
<H3><A NAME="RUNNING">Exécuter le logiciel</A></H3>

<P>Une fois que vous avez installé le logiciel vous pouvez démarrer le serveur CUPS en tapant:
</P>

<UL>
<PRE>
<B>/usr/sbin/cupsd ENTREE</B>
</PRE>
</UL>

<!-- NEED 4in -->
<H2><A NAME="BINARY">Installer une distribution binaire du logiciel</A></H2>

<P>CUPS est fourni dans une variété de formats binaires. Easy Software Products fournit des binaires sous forme
d'archives au format TAR avec des scripts d'installation et de désinstallation (distributiond dites &quot;portables&quot;),
sous forme de format RPM et DPKG pour les distributions RedHat et Debian. Les distributions portables sont disponibles
pour toutes les plateformes tandis que les distributions RPM et DPKG ne le sont que pour GNU/Linux
</P>
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> AVERTISSEMENT:</B>

<P>Installer CUPS écrasera votre système d'impression précédent. Si vous rencontrez des difficultés avec le logiciel
CUPS et devez revenir à votre ancien système d'impression, vous devrez réinstaller celui-ci à partir de CD originaux de 
votre système d'exploitation.
</P>

</TD></TR>
</TABLE>
</CENTER>
</P>

<H3><A NAME="PORTABLE-BINARY">Installer une distribution portable</A></H3>

<P>Pour installer le logiciel CUPS à partir d'une distribution portable vous devrez ouvrir une session en tant
qu'utilisateur root; utiliser la commande <CODE>su</CODE> est suffisant. Une fois que vous êtes utilisateur root,
lancer le script d'installation avec la commande:
</P>

<UL>
<PRE>
<B>./cups.install ENTREE</B>
</PRE>
</UL>

<P>Après vous avoir posé quelques questions de type oui/non, le logiciel CUPS va s'installer et l'ordonnanceur sera
démarré automatiquement.
</P>

<!-- NEED 2in -->
</P>
<H3><A NAME="RPM-BINARY">Installer une distribution de type RPM</A></H3>
<P>Pour installer le logiciel CUPS à partir d'une distribution RPM vous devez ouvrir une session en tant qu'utilisateur
root; utiliser la commande <CODE>su</CODE> est suffisant. Une fois connecté en tant qu'utilisateur root, lancez simplement
RPM au moyen de la commande:
</P>

<UL>
<PRE>
<B>rpm -e lpr</B>
<B>rpm -i cups-1.1-linux-M.m.n-intel.rpm ENTREE</B>
</PRE>
</UL>
<P>Après un petit délai, le logiciel CUPS sera installé et l'ordonnanceur sera démarré automatiquement.</P>

<H3><A NAME="DPKG-BINARY">Installer une distribution de type DEBIAN</A></H3>
<P>Pour installer le logiciel CUPS à partir d'une distribution DEBIAN vous devez ouvrir une session en tant qu'utilisateur
root; utiliser la commande <CODE>su</CODE> est suffisant. Une fois connecté en tant qu'utilisateur root, lancez simplement
dpkg au moyen de la commande:
</P>

<UL>
<PRE>
<B>dpkg -i cups-1.1-linux-M.m.n-intel.deb ENTREE</B>
</PRE>
</UL>

<P>Après un court délai, le logiciel CUPS sera installé et l'ordonnanceur sera automatiquement démarré.</P>

<H1 ALIGN="RIGHT"><A NAME="MANAGING_PRINTERS">3 - Administration les imprimantes</A></H1>

<P>Ce chapitre décrit comment ajouter votre première imprimante et comment administrer vos imprimantes.
</P>

<H2><A NAME="4_1">Les bases</A></H2>

<P>Chaque file d'impression a un nom associé; le nom de l'imprimante doit commencer avec une lettre et peut comporter
jusqu'à 127 lettres, des chiffres ou un caractère de soulignement "_" ("underscore"). La casse des caractères n'est pas
significative, par exemple les chaînes de caractères &quot;IMPRIMANTE&quot;, &quot;Imprimante&quot; et 
&quot;imprimante&quot; sont considérées comme
le même nom.
</P>

<P>Les files d'impression ont également un périphérique associé. Ce périphérique peut être un port parallèle, une
interface réseau, etc. Les périphériques dans CUPS utilisent des URI (Uniform Resource Identifiers) qui sont une
forme plus générale des URL (Uniform Resource Locator) qui sont utilisés par votre noavigateur "web". Par exemple,
le premier port parallèle dans GNU/Linux est habituellement désigné par l'URI de périphérique <CODE>parallel:/dev/lp1</CODE>.
</P>

<!-- NEED 2.5in -->
</P>

<P>Vous pouvez voir une liste complète des périphériques pris en charge en lançant la commande <CODE>lpinfo(8)</CODE>:
</P>

<UL>
<PRE>
<B>lpinfo -v ENTREE</B>
file file
network socket
network http
network ipp
network lpd
direct parallel:/dev/lp1
serial serial:/dev/ttyS1?baud=115200
serial serial:/dev/ttyS2?baud=115200
direct usb:/dev/usb/lp0
network smb
</PRE>
</UL>

<P>L'option <CODE>-v</CODE> indique que vous voulez la liste de tous les périphériques disponibles. Le premier
mot de chaque ligne est le type de périphérique (direct, fichier, réseau, série) et est suivi par l'URI du périphérique
ou le nom de la méthode d'accès à ce périphérique. Les périphériques de type fichier ont des URI de périphérique de la
forme <CODE>file:/répertoire/nom_fichier</CODE> tandis que les périphériques réseau utilisent la forme plus familière
 <CODE>methode://serveur</CODE> ou <CODE>méthode://serveur/chemin</CODE>.
</P>

<P>Enfin, les files d'impression ont généralement un fichier PPD (PostScript Printer Definition) associé. Les fichiers
PPD décrivent les capacités de chaque imprimante, les tailles de support prises en charge, etc., et sont utilisés pour
les imprimantes PostScript et non-PostScript. CUPS inclut des fichiers PPD pour les imprimantes HP LaserJet et Deskjet,
EPSON Stylus, et EPSON 9 et 24 aiguilles.
</P>

<H2><A NAME="4_2">Ajouter votre première imprimante</A></H2>

<P>CUPS fournit deux méthodes pour ajouter des imprimantes : un programme en ligne de commande nommé
<CODE>lpadmin(8)</CODE> et une inteface "web". La commande <CODE>lpadmin</CODE> vous permet d'effectuer la plupart des
tâches d'administration d'imprimantes à partir de la ligne de commande, elle est située dans le répertoire <VAR> /usr/sbin</VAR>.
L'interface "web" est disponible à l'adresse:
</P>

<UL>
<PRE>
<A HREF="http://localhost:631/admin">http://localhost:631/admin</A>
</PRE>
</UL>
<P>et vous quide pas à pas au travers des étapes de configuration d'imprimante. Si vous n'aimez pas les interfaces en
ligne de commande, essayez plutôt <A HREF="#ADD_WEB">l'interface web</A>.
</P>

<H3><A NAME="4_2_1">Ajouter votre première imprimante depuis la ligne de commande</A></H3>

<P>Exécutez la commande <CODE>lpadmin</CODE> avec l'option <CODE>-p</CODE> pour ajouter une imprimante à CUPS:</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -p <I>imprimante</I> -E -v <I>périphérique</I> -m <I>ppd</I> ENTREE</B>
</PRE>
</UL>

<P>Pour une imprimante HP DeskJet connectée au port parallèle, la commande serait:</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -p DeskJet -E -v parallel:/dev/lp1 -m deskjet.ppd ENTREE</B>
</PRE>
</UL>
<P>De la même manière, une imprimante HP LaserJet utilisant une interface réseau de type JetDirect à l'adresse IP 11.22.33.44
serait ajoutée avec la commande:</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -p LaserJet -E -v socket://11.22.33.44 -m laserjet.ppd ENTREE</B>
</PRE>
</UL>

<P>Comme vous pouvez le voir, <CODE>deskjet.ppd</CODE> et <CODE>laserjet.ppd</CODE> sont les fichiers PPD pour les pilotes
HP DeskJet et HP LaserJet inclus dans CUPS. Vous trouverez une liste complète des fichiers PPD ainsi que celle des imprimantes
avec lesquelles ils fonctionnent dans l'<A HREF="#PRINTER_DRIVERS">Annexe C, &quot;Pilotes d'imprimantes&quot;</A>.
</P>

<P>Pour une imprimante matricielle à aiguilles connectée au port série, la commande serait:<P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -p DotMatrix -E -v serial:/dev/ttyS0?baud=9600+size=8+parity=none+flow=soft deskjet.ppd ENTREE</B>
</PRE>
</UL>

<P>Ici, vous indiquez le port série (par exemple S0, S1, d0, s1), le taux de transfert en bauds (par exemple 9600, 19200,
38400, 115200, etc.), le nombre de bits de partié, et le contrôle de flux. Si vous n'avez pas besoin de contrôle de flux,
supprimez la partie &quot;+flow=soft&quot;.
</P>

<H3><A NAME="ADD_WEB">Ajouter votre première imprimante depuis l'interface "web"</A></H3>

<P>Le serveur CUPS fournit une interface ergonomique sous forme d'un assistant ("wizard") pour ajouter les imprimantes.
Plutôt que devoir déterminer quel URI de périphérique et quel fichier PPD utiliser, vous cliquez simplement sur l'option
adéquate de la liste et vous remplissez quelques champs de formulaires avec des informations simples. Entrez l'adresse suivante
dans votre navigateur "web" pour commencer:
</P>

<UL>
<PRE>
<A HREF="http://localhost:631/admin">http://localhost:631/admin</A>
</PRE>
</UL>

<P>Cliquez sur le bouton <VAR>Ajouter imprimante</VAR> pour en ajouter une.</P>

<H2><A NAME="4_3">Administrer les imprimantes depuis la ligne de commande</A></H2>

<P>La commande <CODE>lpadmin</CODE> vous permet d'effectuer la plupart des tâches d'administration d'imprimantes depuis la
ligne de commande. Vous trouverez <CODE>lpadmin</CODE> dans le répertoire <VAR>/usr/bin</VAR>.
</P>

<H3><A NAME="4_3_1">Ajouter et modifier des imprimantes</A></H3>

<P>Exécutez la commande <CODE>lpadmin</CODE> avec l'option <CODE>-p</CODE> pour ajouter ou modifier une imprimante.
</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -p <I>imprimante</I> <I>options</I> ENTREE</B>
</PRE>
</UL>

<P>Les arguments <I>options</I> peuvent être n'importe lesquels parmi:

<UL>
<DL>
<DT>-c<I> classe</I></DT>
<DD>Ajoute l'imprimante nommée à la classe d'imprimantes <VAR>classe</VAR>. Si la classe d'imprimantes n'existe
pas alors elle est créée.</DD>
<DT>-i<I> interface</I></DT>
<DD>Copie le script pour l'<I>interface</I> vers l'imprimante. Les scripts d'interface sont utilisés par les pilotes d'imprimantes
System V. Etant donné que tous les filtres sont désactivés lorsque les scripts d'interface sont employés, les scripts ne devraient
normalement jamais être utilisés à moins qu'il n'y ait aucun autre pilote pour l'imprimante.</DD>

<DT>-m<I> modèle</I></DT>
<DD>Indique une pilote d'imprimante standard qui est généralement un fichier PPD. Une liste de tous les modèles disponibles peut
être affichée au moyen de l'option <CODE>-m</CODE>. Une liste de tous les pilotes d'imprimantes inclus dans CUPS peut être
consultée dans l'<A HREF="#PRINTER_DRIVERS">Annexe
 C, &quot;Pilotes d'imprimantes&quot;</A>.</DD>

<DT>-r<I> classe</I></DT>

<DD>Retire l'imprimante spécifiée de la classe d'imprimantes <VAR>classe</VAR>. Si la classe qui en résulte est vide, elle est
supprimée.</DD>

<DT>-v<I> uri-périphérique</I></DT>
<DD>Indique le périphérique à employer pour dialoguer avec l'imprimante. Si un travail d'impression est actuellement en
cours d'édition sur l'imprimante spécifiée, il est relancé et envoyé au nouveau périphérique.</DD>

<DT>-D<I> info</I></DT>

<DD>Fournit une description textuelle de l'imprimante, par exemple &quot;Imprimante personnelle de Marcel&quot;.</DD>

<DT>-E</DT>

<DD>Active l'imprimante et accepte les travaux d'impression. Cette option équivaut à exécuter les commandes
<CODE>enable(1)</CODE> et <CODE>accept(8)</CODE>.</DD>

<DT>-L<I> emplacement</I></DT>
<DD>Fournit une description textuelle de l'emplacement de l'imprimante, par exemple &quot;Salle informatique n°5&quot;.</DD>

<DT>-P<I> fichier-ppd</I></DT>
<DD>Indique un fichier PPD local pour le pilote d'imprimante.</DD>
</DL>
</UL>

<H3><A NAME="4_3_2">Supprimer des imprimantes</A></H3>

<P>Exécutez la commande <CODE>lpadmin</CODE> avec l'option <CODE>-x</CODE> pour supprimer une imprimante:</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -x <I>printer</I> ENTREE</B>
</PRE>
</UL>

<H3><A NAME="4_3_3">Choisir l'imprimante implicite</A></H3>

<P>Exécutez la commande <CODE>lpadmin</CODE> avec l'option <CODE>-d</CODE> pour définir l'imprimante standard:
</P>

<UL>
<PRE>
<B>/usr/sbin/lpadmin -d <I>printer</I> ENTREE</B>
</PRE>
</UL>

<P>L'imprimante standard peut-être outrepassée par l'utilisateur au moyen de la commande <CODE>lpoptions(1)</CODE>.</P>

<H3><A NAME="4_3_4">Démarrer et arrêter des imprimantes</A></H3>

<P>Les commandes <CODE>enable</CODE> et <CODE>disable</CODE> démarrent et arrêtent les files d'impression, avec les syntaxes respectives suivantes :</P>

<UL>
<PRE>
<B>/usr/bin/enable <I>imrimante</I> ENTREE</B>
<B>/usr/bin/disable <I>imprimante</I> ENTREE</B>
</PRE>
</UL>

<P><i><b>Note du traducteur :</b> utilisateurs du shell BASH attention ! <CODE>enable</CODE> est une commande interne de celui-ci.
Si vous tapez simplement <CODE>enable</CODE> vous
obtiendrez un message d'erreur car c'est la version interne de BASH qui sera utilisée en standard. Pour effectivement utiliser la commande <CODE>enable</CODE> de CUPS
vous <u>devez</u> faire précéder son nom du chemin d'accès complet : <CODE>/usr/bin/enable</CODE>.</i></P>

<P>Les imprimantes qui sont désactivées peuvent toujours accepter les travaux d'impression mais n'en imprimeront effectivement
aucun tant qu'elle ne seront pas réactivées. Cela est utile si une imprimante fonctionne mal et que vous avez besoin de corriger
le problème (bourrage). Tout travail d'impression mis en file d'attente est imprimé dès que la l'imprimante est réactivée.</P>

<H3><A NAME="4_3_5">Accepter et rejeter les travaux d'impression</A></H3>

<P>Les commandes <CODE>accept</CODE> et <CODE>reject</CODE> permettent respectivement d'indiquer à une imprimante
qu'elle doit accepter ou rejeter les nouveaux travaux d'impression:</P>

<UL>
<PRE>
<B>/usr/sbin/accept <I>imprimante</I> ENTREE</B>
<B>/usr/sbin/reject <I>imprimante</I> ENTREE</B>
</PRE>
</UL>

<P>Comme indiqué ci-dessus, une imprimante peut être configurée pour ne plus accepter de nouveaux travaux d'impression.
Une imprimante peut aussi rejeter les nouveaux travaux d'impression bien qu'elle soit en train de terminer le traitement
de ceux qui ont été mis en file d'attente avant que celle-ci soit désactivée. Ceci est utile si vous avez besoin d'effectuer
des opérations de maintenance sur l'imprimante et que vous ne voulez pas qu'elle soit disponible pour les utilisateurs pendante
une longue période.</P>

<H2><A NAME="4_4">Administrer les imprimantes depuis l'interface "web"</A></H2>

<P>L'interface "web" est disponible à l'adresse:</P>

<UL>
<PRE>
<A HREF="http://localhost:631/admin">http://localhost:631/admin</A>
</PRE>
</UL>

<P>Depuis celle-ci vous pouvez effectuer toutes les tâches d'administrations sur les imprimantes au moyen de
quelques clics de souris.</P>


<H1 ALIGN="RIGHT"><A NAME="PRINTER_CLASSES">4 - Classes d'imprimantes</A></H1>

<P>Ce chapitre décrit ce que sont les classes d'imprimantes et comment les administrer.</P>

<H2><A NAME="5_1">Les bases</A></H2>

<P>CUPS fournit des collections d'imprimantes appelées <I>classes d'imprimantes</I>. Les travaux soumis à une classe sont
transmis à la première imprimante disponible de la classe. Les classes peuvent elles auusi être membres d'autres classes, ainsi
il est possible que vous définissiez de grandes classes réparties afin de fournir un système d'impression à haute disponibilité.
</P>

<P>CUPS prend également en charge les <I>classe implicites</I>. Les classes implicites fonctionnent comme les classes d'imprimantes,
mais elles sont créées automatiquement à partir des classes et imprimantes disponibles sur le réseau. Cela vous permet de
configurer de multiples serveurs d'impression avec des configurations d'imprimantes identiques de sorte que les systèmes
clients envoient des travaux d'impression au premier serveur disponible. Si un ou plusieurs serveurs deviennent indisponibles,
les travaux d'impressions sont automatiquement redirigés vers les serveurs encore en fonctionnement, fournissant ainsi un 
système d'impression résistant aux pannes.</P>

<H2><A NAME="5_2">Administrer les classes d'imprimantes depuis la ligne de commande</A></H2>
<P>Exécutez la commande <CODE>lpadmin</CODE> avec les options <CODE>-p</CODE> et <CODE>
-c</CODE> pour ajouter une classe d'imprimantes:</P>
<UL>
<PRE>
<B>/usr/sbin/lpadmin -p <I>imprimante</I> -c <I>classe</I> ENTREE</B>
</PRE>
</UL>
<P>La <I> classe</I> est créée automatiquement si elle n'existe pas.
Pour retirer une imprimante d'une classe, utilisez l'option <CODE>-r</CODE>:</P>
<UL>
<PRE>
<B>/usr/sbin/lpadmin -p <I>imprimante</I> -r <I>classe</I> ENTREE</B>
</PRE>
</UL>
<P>Pour enlever toute la classe, utilisez l'option <CODE>-x</CODE>:</P>
<UL>
<PRE>
<B>/usr/sbin/lpadmin -x <I>classe</I> ENTREE</B>
</PRE>
</UL>
<H2><A NAME="5_3">Administrer les classes d'imprimante depuis l'interface "web"</A></H2>
<P>L'interface "web" est disponible à l'adresse:</P>
<UL>
<PRE>
<A HREF="http://localhost:631/admin">http://localhost:631/admin</A>
</PRE>
</UL>
<P>Les pages <VAR>Ajouter classe</VAR> et <VAR>Modifier classe</VAR> fournissent une liste des imprimantes disponibles.
Cliquez sur la ou les imprimantes de votre choix pour les ajouter à la classe.</P>

<H2><A NAME="5_4">Classes implicites</A></H2>

<P>Comme indiqué auparavant, les classes implicites sont automatiquement créées à partir des imprimantes et des classes
disponibles sur le réseau. Pour désactiver cette fonctionnalité,
réglez la valeur de la directive <A HREF="#ImplicitClasses"><CODE>ImplicitClasses</CODE></A> sur <CODE>Off</CODE> dans
le fichier <CODE>cupsd.conf</CODE>. Vous trouverez plus d'information sur la manière de faire cela dans le <A HREF="#PRINTING_MANAGEMENT">
 Chapitre 6, &quot;Administration du système d'impression&quot;</A>.</P>

<H1 ALIGN="RIGHT"><A NAME="CLIENT_SETUP">5 - Configuration côté client</A></H1>

<P>Ce chapitre expose diverses manières de configurer les clients CUPS pour pouvoir imprimer.</P>

<H2><A NAME="6_1">Les bases</A></H2>

<P>Un client est toute machine qui envoie des travaux d'impression à une autre machine pour édition finale. Les clients peuvent
également être des serveurs s'il communiquent directement avec des imprimantes qui leur appartiennent.</P>

<P>CUPS prend en charge plusieurs méthodes pour configurer les machines clientes:</P>

<UL>
<LI><A HREF="#CLIENT_MANUAL">Configuration manuelle des files d'impression.</A></LI>
<LI><A HREF="#CLIENT_SERVER">Choix d'un serveur unique pour l'impression.</A>
</LI>
<LI><A HREF="#CLIENT_AUTO">Configuration automatique des files d'impression.</A></LI>
<LI><A HREF="#CLIENT_POLL">Choix de plusieurs serveurs pour l'impression.</A></LI>
</UL>
<H3><A NAME="CLIENT_MANUAL">Configuration manuelle des files d'impression</A></H3>

<P>La méthode la plus fastidieuse pour configurer les machines clientes est de configurer chaque file d'impression à distance
à la main au moyen de la commande <CODE>lpadmin</CODE>:

<UL>
<PRE>
<B>lpadmin -p <I>imprimante</I> -E -v ipp://<I>serveur</I>/printers/<I>imprimante</I> ENTREE</B>
</PRE>
</UL>

<P>Le nom <I>imprimante</I> est le nom de l'imprimante sur la machine serveur. Le nom <CODE>serveur</CODE> est le nom
d'hôte ou l'adresse IP de la machine serveur. Répètez la commande <CODE>lpadmin</CODE> pour chaque imprimante distante que
vous désirez utilser.</P>

<H3><A NAME="CLIENT_SERVER">Choix d'un serveur unique pour l'impression</A></H3>

<P>CUPS peut être configuré pour fonctionnner sans file d'attente locale et envoyer tous les travaux d'impression à un serveur
unique. Cependant, si ce serveur vient à tomber en panne, toute possibilité d'imprimer sera supprimée. Utilisez cette configuration
uniquement lorsque c'est absolument nécessaire.</P>

<P>Le serveur implicite est normalement &quot;localhost&quot;. Pour outrepasser ce réglage de base,
créez un fichier nommé<VAR> /etc/cups/client.conf</VAR> et ajoutez une ligne:</P>


<UL>
<PRE>
ServerName <I>serveur</I>
</PRE>
</UL>

<P>au fichier. Le nom <VAR>serveur</VAR> peut être le nom d'hôte ou l'adresse IP du serveur implicite.</P>

<P>Le serveur implicite peut également être adapté en fonction de l'utilisateur. Pour créer un réglage
spécifique à l'utilisateur, créez un fichier nommé <VAR> ~/.cupsrc</VAR> et ajoutez une ligne:

<UL>
<PRE>
ServerName <I>serveur</I>
</PRE>
</UL>
<P>
<P>au fichier. Le nom <VAR>serveur</VAR> peut être le nom d'hôte ou l'adresse IP du serveur implicite.</P>

<H3><A NAME="CLIENT_AUTO">Configuration automatique des files d'impression</A></H3>

<P>CUPS prend en charge la configuration automatique des clients pour les imprimantes sur le même sous-réseau. Pour
configurer des imprimantes présentes sur le même sous-réseau, <I>ne faîtes rien</I>. Chaque client devrait voir
automatiquement les imprimantes disponibles dans un délai de 30 secondes. Les listes des classes et des imprimantes
sont automatiquement mises à jour chaque fois que des imprimantes et des serveurs sont ajoutés ou retirés.</P>

<P>Si vous désirez également voir les imprimantes sur d'autres sous-réseau, utilisez la directive
<A HREF="#BrowsePoll"><CODE>BrowsePoll</CODE></A> comme indiqué ci-après.

<H3><A NAME="CLIENT_POLL">Choix de plusieurs serveurs pour l'impression</A></H3>

<P>Si vous disposez de plusieurs serveurs CUPS sur plusieurs sous-réseaux, vous devriez configurer CUPS pour
surveiller ces serveurs. La surveillance fournit l'avantage d'automatiser singulièrement la configuration sur les clients, et
plusieurs clients sur le même sous-réseau peuvent partager les mêmes informations de configuration.</P>

<P>La surveillance est activée en indiquant une ou plusieurs directives
<A HREF="#BrowsePoll"><CODE>BrowsePoll</CODE></A> dans le fichier <VAR> /etc/cups/cupsd.conf</VAR>. Pour savoir comment
faire ces changements, veuillez vous reporter au <A HREF="#PRINTING_MANAGEMENT">
 Chapitre 6, &quot;Administration du système d'impression&quot;</A>.</P>

<H1 ALIGN="RIGHT"><A NAME="PRINTING_MANAGEMENT">6 - Administration du système d'impression</A></H1>

<P>Ce chapitre montre comment configurer le serveur CUPS.</P>

<H2><A NAME="7_1">Les bases</A></H2>

<P>Plusieurs fichiers texte sont utilisés pour configurer CUPS. Tous les fichiers de configuration du serveur sont
placés dans le répertoire <VAR>/etc/cups</VAR>:</P>

<UL>
<DL>
<!-- NEED 1in -->

<DT>classes.conf</DT>
<DD>Ce fichier contient les informations sur chaque classe d'imprimante. Normalement vous manipulez ce fichier en utilisant
la commande <CODE>lpadmin</CODE> ou l'interface "web".
<BR>&nbsp;
<!-- NEED 1in -->
</DD>
<DT>client.conf</DT>
<DD>
Ce fichier fournit le nom du serveur implicite pour les machines clientes. Veuillez vous reporter au 
<A HREF="#CLIENT_SETUP">Chapitre 5, &quot;Configuration côté client&quot;</A> pour de plus amples informations.
<BR>&nbsp;
<!-- NEED 1in -->
</DD>
<DT>cupsd.conf</DT>
<DD>
Ce fichier contrôle la manière de fonctionner sur serveur CUPS (<VAR>/usr/sbin/cupsd</VAR>) et est normalement édité à la main.
<BR>&nbsp;
<!-- NEED 1in -->
</DD>
<DT>mime.convs</DT>
<DD>Ce fichier contient une liste des filtres de base pour la conversion de fichier et leurs coûts respectifs.
Normalement, vous n'éditerez pas ce fichier.
<BR>&nbsp;
<!-- NEED 1in -->
</DD>
<DT>mime.types</DT>
<DD>Ce fichier contient la liste des formats de fichiers standards et comment les reconnaître. Normalement, vous n'éditerez pas ce fichier.
<BR>&nbsp;
<!-- NEED 1in -->
</DD>
<DT>printers.conf</DT>
<DD>
Ce fichier contient des informations sur chaque imprimante. Normalement, vous manipulez ce fichier en utilisant la commande
<CODE>lpadmin</CODE> ou l'interface "web".
<BR>&nbsp;</DD>
</DL>
</UL>
<H2><A NAME="RESTARTING">Redémarrer le serveur CUPS</A></H2>

<P>Une fois que vous avez fait des changements au fichier de configuration, vous devez redémarrer le serveur CUPS en lui
envoyant un signal <CODE>HUP</CODE> ou en utilisant le script d'initialisation adéquat. Les distributions de CUPS installent
le script dans le répertoire <VAR>init.d</VAR> sous le nom <VAR>cups</VAR>. L'emplacement varie selon le système d'exploitation:
</P>
<UL>
<PRE>
<B>/etc/rc.d/init.d/cups restart ENTREE</B>
<B>/etc/init.d/cups restart ENTREE</B>
<B>/sbin/init.d/cups restart ENTREE</B>
</PRE>
</UL>
<H2><A NAME="7_3">Changer la configuration du serveur</A></H2>

<P>Le fichier <VAR>/etc/cups/cupsd.conf</VAR> contient des <I>directives</I> de configuration qui contrôlent le 
fonctionnement du serveur. Chaque directive suivie de sa valeur est disposée seule sur une ligne.
Les commentaires sont ouverts par le signe dièse  (&quot;#&quot;) au début de la ligne. Etant donné que  le fichier de
configuration du serveur est un fichier texte, vous pouvez le modifier au moyen de votre éditeur de texte préféré.
<!-- NEED 4in -->
</P>

<H2><A NAME="7_4">Directives de configuration du serveur</A></H2>
 
<P>Le fichier<VAR> cupsd.conf</VAR> contient de nombreuses directives qui déterminent le comportement du serveur:</P>
<UL>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR><TD VALIGN="TOP">
<LI><A HREF="#AccessLog"><CODE>AccessLog</CODE></A></LI>
<LI><A HREF="#Allow"><CODE>Allow</CODE></A></LI>
<LI><A HREF="#AuthClass"><CODE>AuthClass</CODE></A></LI>
<LI><A HREF="#AuthGroupName"><CODE>AuthGroupName</CODE></A></LI>
<LI><A HREF="#AuthType"><CODE>AuthType</CODE></A></LI>
<LI><A HREF="#AutoPurgeJobs"><CODE>AutoPurgeJobs</CODE></A></LI>
<LI><A HREF="#BrowseAddress"><CODE>BrowseAddress</CODE></A></LI>
<LI><A HREF="#BrowseAllow"><CODE>BrowseAllow</CODE></A></LI>
<LI><A HREF="#BrowseDeny"><CODE>BrowseDeny</CODE></A></LI>
<LI><A HREF="#BrowseInterval"><CODE>BrowseInterval</CODE></A></LI>
<LI><A HREF="#BrowseOrder"><CODE>BrowseOrder</CODE></A></LI>
<LI><A HREF="#BrowsePoll"><CODE>BrowsePoll</CODE></A></LI>
<LI><A HREF="#BrowsePort"><CODE>BrowsePort</CODE></A></LI>
<LI><A HREF="#BrowseProtocols"><CODE>BrowseProtocols</CODE></A></LI>
<LI><A HREF="#BrowseRelay"><CODE>BrowseRelay</CODE></A></LI>
<LI><A HREF="#BrowseShortNames"><CODE>BrowseShortNames</CODE></A></LI>
<LI><A HREF="#BrowseTimeout"><CODE>BrowseTimeout</CODE></A></LI>
<LI><A HREF="#Browsing"><CODE>Browsing</CODE></A></LI>
<LI><A HREF="#Classification"><CODE>Classification</CODE></A></LI>
<LI><A HREF="#ClassifyOverride"><CODE>ClassifyOverride</CODE></A></LI>
<LI><A HREF="#DataDir"><CODE>DataDir</CODE></A></LI>
<LI><A HREF="#DefaultCharset"><CODE>DefaultCharset</CODE></A></LI>
<LI><A HREF="#DefaultLanguage"><CODE>DefaultLanguage</CODE></A></LI>
<LI><A HREF="#Deny"><CODE>Deny</CODE></A></LI>
<LI><A HREF="#DocumentRoot"><CODE>DocumentRoot</CODE></A></LI>
</TD><TD VALIGN="TOP"> &nbsp;&nbsp;&nbsp;</TD><TD VALIGN="TOP">
<LI><A HREF="#Encryption"><CODE>Encryption</CODE></A></LI>
<LI><A HREF="#ErrorLog"><CODE>ErrorLog</CODE></A></LI>
<LI><A HREF="#FilterLimit"><CODE>FilterLimit</CODE></A></LI>
<LI><A HREF="#FontPath"><CODE>FontPath</CODE></A></LI>
<LI><A HREF="#Group"><CODE>Group</CODE></A></LI>
<LI><A HREF="#HideImplicitMembers"><CODE>HideImplicitMembers</CODE></A></LI>
<LI><A HREF="#HostNameLookups"><CODE>HostNameLookups</CODE></A></LI>
<LI><A HREF="#ImplicitClasses"><CODE>ImplicitClasses</CODE></A></LI>
<LI><A HREF="#ImplicitAnyClasses"><CODE>ImplicitAnyClasses</CODE></A></LI>
<LI><A HREF="#Include"><CODE>Include</CODE></A></LI>
<LI><A HREF="#KeepAliveTimeout"><CODE>KeepAliveTimeout</CODE></A></LI>
<LI><A HREF="#KeepAlive"><CODE>KeepAlive</CODE></A></LI>
<LI><A HREF="#Limit"><CODE>Limit</CODE></A></LI>
<LI><A HREF="#LimitExcept"><CODE>LimitExcept</CODE></A></LI>
<LI><A HREF="#LimitRequestBody"><CODE>LimitRequestBody</CODE></A></LI>
<LI><A HREF="#Listen"><CODE>Listen</CODE></A></LI>
<LI><A HREF="#Location"><CODE>Location</CODE></A></LI>
<LI><A HREF="#LogLevel"><CODE>LogLevel</CODE></A></LI>
<LI><A HREF="#MaxClients"><CODE>MaxClients</CODE></A></LI>
<LI><A HREF="#MaxJobs"><CODE>MaxJobs</CODE></A></LI>
<LI><A HREF="#MaxJobsPerPrinter"><CODE>MaxJobsPerPrinter</CODE></A></LI>
<LI><A HREF="#MaxJobsPerUser"><CODE>MaxJobsPerUser</CODE></A></LI>
<LI><A HREF="#MaxLogSize"><CODE>MaxLogSize</CODE></A></LI>
<LI><A HREF="#MaxRequestSize"><CODE>MaxRequestSize</CODE></A></LI>
<LI><A HREF="#Order"><CODE>Order</CODE></A></LI>
</TD><TD VALIGN="TOP"> &nbsp;&nbsp;&nbsp;</TD><TD VALIGN="TOP">
<LI><A HREF="#PageLog"><CODE>PageLog</CODE></A></LI>
<LI><A HREF="#Port"><CODE>Port</CODE></A></LI>
<LI><A HREF="#PreserveJobFiles"><CODE>PreserveJobFiles</CODE></A></LI>
<LI><A HREF="#PreserveJobHistory"><CODE>PreserveJobHistory</CODE></A></LI>
<LI><A HREF="#Printcap"><CODE>Printcap</CODE></A></LI>
<LI><A HREF="#PrintcapFormat"><CODE>PrintcapFormat</CODE></A></LI>
<LI><A HREF="#PrintcapGUI"><CODE>PrintcapGUI</CODE></A></LI>
<LI><A HREF="#RemoteRoot"><CODE>RemoteRoot</CODE></A></LI>
<LI><A HREF="#RequestRoot"><CODE>RequestRoot</CODE></A></LI>
<LI><A HREF="#Require"><CODE>Require</CODE></A></LI>
<LI><A HREF="#RIPCache"><CODE>RIPCache</CODE></A></LI>
<LI><A HREF="#RunAsUser"><CODE>RunAsUser</CODE></A></LI>
<LI><A HREF="#Satisfy"><CODE>Satisfy</CODE></A></LI>
<LI><A HREF="#ServerAdmin"><CODE>ServerAdmin</CODE></A></LI>
<LI><A HREF="#ServerBin"><CODE>ServerBin</CODE></A></LI>
<LI><A HREF="#ServerCertificate"><CODE>ServerCertificate</CODE></A></LI>
<LI><A HREF="#ServerKey"><CODE>ServerKey</CODE></A></LI>
<LI><A HREF="#ServerName"><CODE>ServerName</CODE></A></LI>
<LI><A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A></LI>
<LI><A HREF="#SSLListen"><CODE>SSLListen</CODE></A></LI>
<LI><A HREF="#SSLPort"><CODE>SSLPort</CODE></A></LI>
<LI><A HREF="#SystemGroup"><CODE>SystemGroup</CODE></A></LI>
<LI><A HREF="#TempDir"><CODE>TempDir</CODE></A></LI>
<LI><A HREF="#Timeout"><CODE>Timeout</CODE></A></LI>
<LI><A HREF="#User"><CODE>User</CODE></A></LI>
</TD></TR>
</TABLE>
</UL>

<!-- NEED 3in -->
<H3><A NAME="AccessLog">AccessLog</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
AccessLog /var/log/cups/access_log
AccessLog /var/log/cups/access_log-%s
AccessLog syslog
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>AccessLog</CODE> donne le nom du fichier de suivi d'accès ("access log"). Si le chemin d'accès au fichier n'est pas
absolu, il est considéré comme relatif au répertoire<A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>.
Le fichier "access log" est stocké dans le format "log" habituel et peut aisément être utilisé par tout outil
d'analyse d'accès "web" pour générer un rapport sur l'activité du serveur CUPS.</P>
<P>Le nom du serveur peut être inclus dans le nom du fichier en utilisant <CODE>%s</CODE> dans le nom.</P>
<P>Le nom spécial &quot;syslog&quot; peut être utilisé pour envoyer les informations d'accès au fichier de suivi système au lieu
d'un simple fichier texte.</P>
<P>Le fichier de suivi d'accès implicite est <VAR>/var/log/cups/access_log</VAR>.
<!-- NEED 6in -->
</P>
<H3><A NAME="Allow">Allow</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Allow from All
Allow from None
Allow from *.domain.com
Allow from .domain.com
Allow from host.domain.com
Allow from nnn.*
Allow from nnn.nnn.*
Allow from nnn.nnn.nnn.*
Allow from nnn.nnn.nnn.nnn
Allow from nnn.nnn.nnn.nnn/mm
Allow from nnn.nnn.nnn.nnn/mmm.mmm.mmm.mmm
</PRE>
</UL>
<H4>Description</H4>

<P>La directive <CODE>Allow</CODE> indique un nom d'hôte, une adresse IP ou un réseau qui est autorisé à accéder au serveur.
Les directives  <CODE>Allow</CODE> se cumulent, ainsi plusieurs directives <CODE>Allow</CODE> peuvent être utilisées pour
autoriser l'accès à de multiples hôtes et/ou réseaux. La notation <CODE>/mm</CODE> indique une notation de sous-réseau CIDR:
<CENTER>
<TABLE BORDER="1">
<TR><TH WIDTH="10%">mm</TH><TH WIDTH="20%">netmask</TH><TH WIDTH="10%">
mm</TH><TH WIDTH="20%">netmask</TH></TR>
<TR><TD ALIGN="CENTER">0</TD><TD ALIGN="CENTER">0.0.0.0</TD><TD ALIGN="CENTER">
8</TD><TD ALIGN="CENTER">255.0.0.0</TD></TR>
<TR><TD ALIGN="CENTER">1</TD><TD ALIGN="CENTER">128.0.0.0</TD><TD ALIGN="CENTER">
16</TD><TD ALIGN="CENTER">255.255.0.0</TD></TR>
<TR><TD ALIGN="CENTER">2</TD><TD ALIGN="CENTER">192.0.0.0</TD><TD ALIGN="CENTER">
24</TD><TD ALIGN="CENTER">255.255.255.0</TD></TR>
<TR><TD ALIGN="CENTER">...</TD><TD ALIGN="CENTER">...</TD><TD ALIGN="CENTER">
32</TD><TD ALIGN="CENTER">255.255.255.255</TD></TR>
</TABLE>
</CENTER>
</P>
<P>La directive <CODE>Allow</CODE> doit apparaître à l'intérieur d'une directive 
<A HREF="#Location"><CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="AuthClass">AuthClass</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
AuthClass Anonymous
AuthClass User
AuthClass System
AuthClass Group
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>AuthClass</CODE> définit le niveau d'authentification requis:</P>
<UL>
<LI><CODE>Anonymous</CODE> - Pas d'authentification nécessaire. C'est la valeur implicite</LI>
<LI><CODE>User</CODE> - Un nom d'utilisateur et un mot de passe valides sont requis.</LI>
<LI><CODE>System</CODE> - Un nom d'utilisateur et un mot de passe valides sont requis, et cet utilisateur doit être membre du
groupe &quot;sys&quot;; cela peut être changé au moyen de la directive<A HREF="#SystemGroup"><CODE>SystemGroup</CODE></A>.</LI>
<LI><CODE>Group</CODE> - Un nom d'utilisateur et un mot de passe valides sont requis, et cet utilisateur doit être membre du
groupe indiqué dans la directive <CODE>AuthGroupName</CODE>.</LI>
</UL>
<P>La directive <CODE>AuthClass</CODE> doit apparaître à l'intérieur d'une directive<A HREF="#Location">
 <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="AuthGroupName">AuthGroupName</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
AuthGroupName mygroup
AuthGroupName lp
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>AuthGroupName</CODE> définit le groupe à utiliser pour l'authentification de type <CODE>
Group</CODE>.</P>
<P>La directive <CODE>AuthGroupName</CODE> doit apparaître à l'intérieur d'une directive <A HREF="#Location">
 <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="AuthType">AuthType</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
AuthType None
AuthType Basic
AuthType Digest
AuthType BasicDigest
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>AuthType</CODE> définit le type d'authentification qui doit être effectuée:</P>
<UL>
<LI><CODE>None</CODE> - Pas d'authentification. C'est la valeur implicite</LI>
<LI><CODE>Basic</CODE> - Une authentification "Basic" doit être effectuée en utilisant le fichier de mots de passe et de groupe d'UNIX.</LI>
<LI><CODE>Digest</CODE> - Une authentification "Digest" doit être effectuée en utilisant le fichier <VAR>/etc/cups/passwd.md5</VAR>.</LI>
<LI><CODE>BasicDigest</CODE> - Une authentification "Basic" doit être effectuée en utilisant le fichier <VAR>/etc/cups/passwd.md5</VAR>.</LI>
</UL>
<P>
Lorsque vous utilisez <CODE>Basic</CODE>, <CODE>Digest</CODE>, ou 
<CODE>BasicDigest</CODE>, les clients se connectant en utilisant l'adresse 
<CODE>localhost</CODE> peuvent également le faire en utilisant les <A HREF="#CERTIFICATES">certificats</A>.
</P>
<P>La directive <CODE>AuthType</CODE> doit apparaître à l'intérieur d'une directive <A HREF="#Location">
 <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="AutoPurgeJobs">AutoPurgeJobs</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
AutoPurgeJobs Yes
AutoPurgeJobs No
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>AutoPurgeJobs</CODE> indique si oui ou non il faut purger les travaux d'impression lorsqu'ils ne sont
plus nécessaires au vu des quotas. Cet option n'a aucun effet si les quotas ne sont pas activés. 
La valeur implicite est <CODE>No</CODE>.
<!-- NEED 5in -->
</P>
<H3><A NAME="BrowseAddress">BrowseAddress</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseAddress 255.255.255.255:631
BrowseAddress 192.0.2.255:631
BrowseAddress host.domain.com:631
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseAddress</CODE> indique une adresse à laquelle il faut envoyer les informations d'exploration.
Plusieurs directives <CODE>BrowseAddress</CODE> peuvent être indiquées pour envoyer les informations d'exploration à différents
systèmes ou réseaux.</P>

<P>La valeur implicite de l'adresse est <CODE>255.255.255.255:631</CODE>
ce qui diffusera les informations à tous les réseaux auxquels le serveur est connecté.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTA:</B>
<P>Si vous utilisez HP-UX 10.20 sur un sous-réseau dont le masque n'est pas sur 24, 16 ou 8 bits,
l'exploration des imprimantes (et en fait toute réception d'information diffusée) ne fonctionnera pas.
Ce problème semble résolu dans HP-UX 11.0.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 4in -->
</P>
<H3><A NAME="BrowseAllow">BrowseAllow</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseAllow from all
BrowseAllow from none
BrowseAllow from 192.0.2
BrowseAllow from 192.0.2.0/24
BrowseAllow from 192.0.2.0/255.255.255.0
BrowseAllow from *.domain.com
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseAllow</CODE> indique un système dont on accepte de recevoir des paquets d'exploration.
Le comportement
implicite est d'accepter des paquets d'exploration de n'importe quel hôte.</P>
<P>Le contrôle sur la base du nom d'hôte et de domaine impose que vous activiez la directive 
<A HREF="#HostNameLookups"><CODE>HostNameLookups</CODE></A>.</P>
<P>Le contrôle sur la base de l'adresse IP prend en charge les correspondances exactes, les adresses partielles qui
correspondent à des réseaux dont le masque est 255.0.0.0, 255.255.0.0, et
 255.255.255.0, ou des adresses réseau utilisant le masque indiqué.
<!-- NEED 4in -->
</P>
<H3><A NAME="BrowseDeny">BrowseDeny</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseDeny from all
BrowseDeny from none
BrowseDeny from 192.0.2
BrowseDeny from 192.0.2.0/24
BrowseDeny from 192.0.2.0/255.255.255.0
BrowseDeny from *.domain.com
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseDeny</CODE> indique un système dont on refuse de recevoir des paquets d'exploration. Le comportement
implicite est de ne refuser aucun paquet d'exploration d'aucun hôte.</P>
<P>Le contrôle sur la base du nom d'hôte et de domaine impose que vous activiez la directive 
<A HREF="#HostNameLookups"><CODE>HostNameLookups</CODE></A>.</P>
<P>Le contrôle sur la base de l'adresse IP prend en charge les correspondances exactes, les adresses partielles qui
correspondent à des réseaux dont le masque est 255.0.0.0, 255.255.0.0, et
 255.255.255.0, ou des adresses réseau utilisant le masque indiqué.

<!-- NEED 3in -->
</P>
<H3><A NAME="BrowseOrder">BrowseOrder</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseOrder allow,deny
BrowseOrder deny,allow
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseOrder</CODE>
indique l'ordre de traitement accord/refus. L'ordre implicite est <CODE>deny,allow</CODE>:
<UL>
<LI><CODE>allow,deny</CODE> - Les paquets d'exploration sont acceptés à moins qu'ils ne soient explicitement refusés.</LI>
<LI><CODE>deny,allow</CODE> - Les paquets d'exploration sont rejetés à moins qu'ils ne soient explicitement acceptés.</LI>
</UL>

<!-- NEED 3in -->
<H3><A NAME="BrowseInterval">BrowseInterval</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseInterval 0
BrowseInterval 30
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseInterval</CODE> indique le délai maximum entre deux mises à jour de l'exploration.
Le fait d'indiquer une valeur de 0 interdit de diffuser des mises à jour mais autorise néanmoins un serveur à recevoir
des mises à jour en provenance d'autres hôtes.</P>

<P>La valeur <CODE>BrowseInterval</CODE> devrait toujours être inférieure à la valeur <A
HREF="#BrowseTimeout"><CODE>BrowseTimeout</CODE></A>.
Sinon des imprimantes et des classes pourraient disparaître des système clients entre les mises à jour.
<!-- NEED 3in -->
</P>
<H3><A NAME="BrowsePoll">BrowsePoll</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowsePoll 192.0.2.2:631
BrowsePoll host.domain.com:631
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowsePoll</CODE> 
collecte la liste des imprimantes disponibles sur un serveur une fois toutes les 
<A HREF="#BrowseInterval"><CODE>BrowseInterval</CODE></A> secondes.
Plusieurs directives <CODE>BrowsePoll</CODE> peuvent être indiquées pour surveiller plusieurs serveurs.</P>
<P>Si <CODE>BrowseInterval</CODE> est mis à 0 alors le serveur est surveillé une fois toutes les 30 secondes.
<!-- NEED 3in -->
</P>
<H3><A NAME="BrowsePort">BrowsePort</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowsePort 631
BrowsePort 9999
</PRE>
</UL>
<H4>Description</H4>
<P>
La directive <CODE>BrowsePort</CODE> indique un numéro de port UDP à employer pour les échanges de paquets d'exploration. La
valeur implicite est 631.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Vous devez choisir une valeur identique pour la directive <CODE>BrowsePort</CODE> sur tous les systèmes que vous voulez voir.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 3in -->
</P>
<H3><A NAME="BrowseProtocols">BrowseProtocols</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseProtocols CUPS
BrowseProtocols SLP
BrowseProtocols CUPS SLP
BrowseProtocols all
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseProtocols</CODE> indique les protocoles à employer pour collecter et distribuer les informations
sur les imprimantes partagées sur le réseau local. Le protocole implicite est <CODE>CUPS</CODE>, c'est un protocole
basé sur la diffusion réseau ("broadcast").
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Lorsque vous utilisez le protocole <CODE>SLP</CODE>, vous devez avoir au moins un serveur "Directory Agent" (DA) sur votre
réseau. A défaut, l'ordonnanceur CUPS (<CODE>cupsd</CODE>) ne répondra pas aux requêtes des clients pendant plusieurs secondes
pendant qu'il sera en train d'explorer le réseau.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 4in -->
</P>
<H3><A NAME="BrowseRelay">BrowseRelay</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseRelay 193.0.2.1 192.0.2.255
BrowseRelay 193.0.2.0/255.255.255.0 192.0.2.255
BrowseRelay 193.0.2.0/24 192.0.2.255
BrowseRelay *.domain.com 192.0.2.255
BrowseRelay host.domain.com 192.0.2.255
</PRE>
</UL>
<H4>Description</H4>
<P>
la directive indique des adresses source et destination pour relayer les informations d'exploration en provenance d'un
hôte ou d'un réseau vers un autre. Plusieurs directives <CODE>BrowseRelay</CODE> peuvent être indiquées si nécessaire.</P>
<P><CODE>BrowseRelay</CODE> est généralement utilisé sur des systèmes qui assurent la passerelle entre des réseaux multiples au
moyen d'une ou plusieurs interfaces réseau. Elle peut également être utilisée pour relayer des informations sur les imprimantes
provenant de serveurs surveillés, au moyen de la ligne:</P>
<UL>
<PRE>
BrowseRelay 127.0.0.1 255.255.255.255
</PRE>
</UL>
<P>Cela fournit un accès effectif aux imprimantes d'un WAN pour tous les clients d'un LAN.
<!-- NEED 3in -->
</P>
<H3><A NAME="BrowseShortNames">BrowseShortNames</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseShortNames Yes
BrowseShortNames No
</PRE>
</UL>
<H4>Description</H4>

<P>La directive <CODE>BrowseShortNames</CODE> indique s'il faut ou non utiliser les noms courts pour les imprimantes à
distance. Les noms courts sont simplement composés du nom de l'imprimante, sans celui du serveur ("imprimante"). Si le 
système détecte plus d'une imprimante à distance portant le même nom, les imprimantes seront affichées avec les noms longs
("imprimante@erveur1", "imprimante@erveur2")</P>
<P>La valeur implicite de cette option est <CODE>Yes</CODE>.
<!-- NEED 3in -->
</P>
<H3><A NAME="BrowseTimeout">BrowseTimeout</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
BrowseTimeout 300
BrowseTimeout 60
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>BrowseTimeout</CODE> fixe la durée de vie des informations reçues sous forme de paquets d'exploration et
concernant les imprimantese et les classes. Une fois que les informations concernant une imprimante ou une classe dépassent ce
délai, elles sont retirées de la liste des destinations disponibles.</P>

<P>La valeur <CODE>BrowseTimeout</CODE> devrait toujours être supérieure à la valeur <A HREF="#BrowseInterval"> <CODE>BrowseInterval</CODE></A>.
Sinon des imprimantes et des classes pourraient disparaîtres des systèmes clients entre les mises à jour.
<!-- NEED 4in -->
</P>
<H3><A NAME="Browsing">Browsing</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Browsing On
Browsing Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Browsing</CODE> contrôle l'activation ou non de l'exploration réseau des imprimantes.
La valeur implicite est <CODE>On</CODE>.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Si vous utilisez HP-UX 10.20 sur un sous-réseau dont le masque n'est pas sur 24, 16 ou 8 bits,
l'exploration des imprimantes (et en fait toute réception d'information diffusée) ne fonctionnera pas.
Ce problème semble résolu dans HP-UX 11.0.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 3in -->
</P>
<H3><A NAME="Classification">Classification</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Classification
Classification classified
Classification confidential
Classification secret
Classification topsecret
Classification unclassified
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Classification</CODE> fixe le niveau de classification sur le serveur. Lorsque cette option est activée
au moins une des pages de garde est forcée à ce niveau et l'information de classification est placée sur chaque page imprimée.
La valeur implicite est de n'avoir aucun niveau de classification.
<!-- NEED 3in -->
</P>
<H3><A NAME="ClassifyOverride">ClassifyOverride</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ClassifyOverride Yes
ClassifyOverride No
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ClassifyOverride</CODE> indique si les utilisateurs peuvent outrepasser le niveau de classification
du serveur ou non. Lorsque la classification du serveur est activée, les utilisateurs peuvent changer la classification en
employant l'option <CODE>job-sheets</CODE> et peuvent choisir de n'imprimer qu'une seule page de garde de sécurité avant ou
après le travail d'impression. Si l'option <CODE>job-sheets</CODE> est positionnée à la valeur <CODE>none</CODE> alors
le niveau de classification implicite du serveur est utilisé.</P>
<P>La valeur implicite est de ne pas autoriser les utilisateurs à outrepasser la classification.
<!-- NEED 3in -->
</P>
<H3><A NAME="DataDir">DataDir</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
DataDir /usr/share/cups
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>DataDir</CODE> fixe le répertoire à employer pour les fichiers de données.
<!-- NEED 3in -->
</P>
<H3><A NAME="DefaultCharset">DefaultCharset</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
DefaultCharset utf-8
DefaultCharset iso-8859-1
DefaultCharset windows-1251
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>DefaultCharset</CODE> définit le jeu de caractères à utiliser pour les connexions avec les clients.
Le jeu de caractère implicite est le jeu <CODE>utf-8</CODE> mais il est outrepassé par le jeu de caractères associé à la langue indiquée par le client ou par la directive
<CODE>DefaultLanguage</CODE>.
<!-- NEED 3in -->
</P>
<H3><A NAME="DefaultLanguage">DefaultLanguage</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
DefaultLanguage de
DefaultLanguage en
DefaultLanguage es
DefaultLanguage fr
DefaultLanguage it
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>DefaultLanguage</CODE> définit le langage à utiliser pour les connexions avec les clients. Régler la langue
règle également le jeu de caractères si un fichier de localisation existe pour celle-ci. La valeur implicite est &quot;en&quot; c'est-à-dire "anglais".
<!-- NEED 5in -->
</P>
<H3><A NAME="Deny">Deny</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Deny from All
Deny from None
Deny from *.domain.com
Deny from .domain.com
Deny from host.domain.com
Deny from nnn.*
Deny from nnn.nnn.*
Deny from nnn.nnn.nnn.*
Deny from nnn.nnn.nnn.nnn
Deny from nnn.nnn.nnn.nnn/mm
Deny from nnn.nnn.nnn.nnn/mmm.mmm.mmm.mmm
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Deny</CODE> indique un nom d'hôte, une adresse IP ou un réseau qui n'est pas autorisé à accéder 
au serveur.
Les directives  <CODE>Deny</CODE> se cumulent, ainsi plusieurs directives  <CODE>Deny</CODE>  peuvent être utilisées pour
interdire l'accès à de multiples hôtes et/ou réseaux. La notation <CODE>/mm</CODE> indique une notation de sous-réseau CIDR:

<CENTER>
<TABLE BORDER="1">
<TR><TH WIDTH="10%">mm</TH><TH WIDTH="20%">netmask</TH><TH WIDTH="10%">
mm</TH><TH WIDTH="20%">netmask</TH></TR>
<TR><TD ALIGN="CENTER">0</TD><TD ALIGN="CENTER">0.0.0.0</TD><TD ALIGN="CENTER">
8</TD><TD ALIGN="CENTER">255.0.0.0</TD></TR>
<TR><TD ALIGN="CENTER">1</TD><TD ALIGN="CENTER">128.0.0.0</TD><TD ALIGN="CENTER">
16</TD><TD ALIGN="CENTER">255.255.0.0</TD></TR>
<TR><TD ALIGN="CENTER">2</TD><TD ALIGN="CENTER">192.0.0.0</TD><TD ALIGN="CENTER">
24</TD><TD ALIGN="CENTER">255.255.255.0</TD></TR>
<TR><TD ALIGN="CENTER">...</TD><TD ALIGN="CENTER">...</TD><TD ALIGN="CENTER">
32</TD><TD ALIGN="CENTER">255.255.255.255</TD></TR>
</TABLE>
</CENTER>
</P>
<P>La directive <CODE>Deny</CODE> doit apparaître à l'intérieur d'une directive <A HREF="#Location">
 <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="DocumentRoot">DocumentRoot</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
DocumentRoot /usr/share/doc/cups
DocumentRoot /foo/bar/doc/cups
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>DocumentRoot</CODE> indique l'emplacement du contenu que le serveur HTTP de CUPS doit publier.
Si un chemin absolu n'est pas indiqué, celui-ci est considéré comme relatif au répertoire
<A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>. La valeur implicite est <VAR>/usr/share/doc/cups</VAR>.</P>
<P>Les documents sont d'abord recherchés dans un sous-répertoire correspondant à la langue demandée par le client (par exemple
<VAR>/usr/share/doc/cups/fr/...</VAR>) et ensuite directement dans le répertoire <CODE>DocumentRoot</CODE> (par exemple
<VAR>/usr/share/doc/cups/...</VAR>), ainsi il est possible de localiser le contenu "web" en fournissant des sous-répertoires pour chaque
 langue nécessaire.
<!-- NEED 3in -->
</P>
<H3><A NAME="Encryption">Encryption</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Encryption Never
Encryption IfRequested
Encryption Required
Encryption Always
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Encryption</CODE> doit apparaître à l'intérieur d'une section 
<A HREF="#Location"><CODE>Location</CODE></A> et définit les réglages d'encryptage pour cet emplacement. Le réglage implicite est
 <CODE>IfRequested</CODE> pour tous les emplacements.
<!-- NEED 3in -->
</P>
<H3><A NAME="ErrorLog">ErrorLog</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ErrorLog /var/log/cups/error_log
ErrorLog /var/log/cups/error_log-%s
ErrorLog syslog
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ErrorLog</CODE> définit le nom du fichier de suivi d'erreurs ("error log"). Si le nom de fichier n'est pas un chemin
absolu, il est considéré comme un chemin relatif au répertoire <A HREF="#ServerRoot"> <CODE>ServerRoot</CODE></A>. Le fichier standard est
<VAR> /var/log/cups/error_log</VAR>.</P>
<P>Le nom du serveur peut être inclus dans le nom du fichier en utilisant le nom <CODE>%s</CODE>.</P>
<P>Le nom spécial &quot;syslog&quot; peut être utilisé pour envoyer les informations de suivi d'erreurs vers le fichier de suivi d'erreur
système au lieu d'un fichier texte simple.
<!-- NEED 3in -->
</P>
<H3><A NAME="FilterLimit">FilterLimit</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
FilterLimit 0
FilterLimit 200
FilterLimit 1000
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>FilterLimit</CODE> définit le coût maximal de tous les filtres appliqués au travaux en cours de 
traitement. Elle peut
être utilisée pour limiter le nombre de programmes de filtres qui son exécutés dans un serveur pour minimiser les problèmes de ressources disque,
mémoire ou CPU. Une limite de 0 désactive la limitation des filtres.</P>

<P>Le coût moyen d'une impression vers une imprimante non-PostScript nécessite une limitation de filtre aux alentours de 200. Une imprimante
PostScript nécessite une limite d'environ la moitié (100). Positionner la limite en dessous de ces seuils va effectivement limiter l'ordonnanceur
à l'impression d'un travail à la fois.</P>
<P>La valeur implicite est 0.
<!-- NEED 3in -->
</P>
<H3><A NAME="FontPath">FontPath</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
FontPath /foo/bar/fonts
FontPath /usr/share/cups/fonts:/foo/bar/fonts
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>FontPath</CODE> définit le chemin de recherche des polices de caractères à utiliser. La valeur
implicite est  <CODE>/usr/share/cups/fonts</CODE>.
<!-- NEED 3in -->
</P>
<H3><A NAME="Group">Group</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Group sys
Group system
Group root
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Group</CODE> définit le groupe UNIX sous l'identité duquel les programmes CGI et de filtrage fonctionnent.
Le groupe implicite est <CODE>sys</CODE>, <CODE>system</CODE>, ou <CODE>root</CODE> selon le système d'exploitation.
<!-- NEED 3in -->
</P>
<H3><A NAME="HideImplicitMembers">HideImplicitMembers</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
HideImplicitMembers Yes
HideImplicitMembers No
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>HideImplicitMembers</CODE> contrôle l'appartenance ou non d'imprimantes individuelles aux classes implicites qui sont
montrées à l'utilisateur. La valeur standard est <CODE>No</CODE>.</P>
<P><A HREF="#ImplicitClasses"><CODE>ImplicitClasses</CODE></A> doit être activée pour que cette directive ait un quelconque effet.</P>

<!-- NEED 3in -->
<H3><A NAME="HostNameLookups">HostNameLookups</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
HostNameLookups On
HostNameLookups Off
HostNameLookups Double
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>HostNameLookups</CODE> indique si CUPS doit ou non rechercher le nom d'hôte des clients qui se connectent. La clause
<CODE>Double</CODE> force CUPS à vérifier que le nom d'hôte trouvé à partir de l'adresse correspond bien à l'une des adresses retournées pour
ce nom d'hôte. Les recherches <CODE>Double</CODE> empêchent également que des clients ayant des adresses non enregistrées ne se connectent au
serveur. La valeur implicite est <CODE>Off</CODE> pour éviter tout problème potentiel de performance du serveur du fait des résolutions de nom.
Positionnez cette directive à la valeur <CODE>On</CODE> ou <CODE>Double</CODE> uniquement si nécessaire.
<!-- NEED 3in -->
</P>
<H3><A NAME="ImplicitClasses">ImplicitClasses</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ImplicitClasses On
ImplicitClasses Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ImplicitClasses</CODE> contrôle si les classes implicites sont créées sur la base des imprimantes et classes disponibles
sur le réseau. La valeur implicite est <CODE>On</CODE> mais est automatiquement positionnée sur <CODE>Off</CODE> si <A HREF="#Browsing"><CODE>Browsing</CODE></A>
est à la valeur <CODE>Off</CODE>.
<!-- NEED 3in -->
</P>
<H3><A NAME="ImplicitAnyClasses">ImplicitAnyClasses</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ImplicitAnyClasses On
ImplicitAnyClasses Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ImplicitAnyClasses</CODE> contrôle si oui ou non les classes implicites pour les imprimantes locales et à distance sont crées
avec le nom <CODE>AnyPrinter</CODE>. La valeur implicite est <CODE>Off</CODE>.</P>
<P><A HREF="#ImplicitClasses"><CODE>ImplicitClasses</CODE></A> doit être activée pour que cette directive ait un quelconque effet.</P>
<!-- NEED 3in -->
<H3><A NAME="Include">Include</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Include filename
Include /foo/bar/filename
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Include</CODE> inclut le fichier indiqué dans le corps du fichier 
<CODE>cupsd.conf</CODE>. Si aucun chemin n'est indiqué, le fichier est considéré comme étant relatif au répertoire 
<A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>.</P>
<!-- NEED 3in -->
<H3><A NAME="KeepAlive">KeepAlive</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
KeepAlive On
KeepAlive Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>KeepAlive</CODE> contrôle la prise en charge ou non des connexions HTTP persitantes. La valeur
implicite est <CODE>On</CODE>.</P>
<P>Les clients HTTP/1.1 prennent automatiquement en charge les connexions persistantes, tandis que clients
 HTTP/1.0 doivent spécifiquement les demander en utiliser l'attribut <CODE>Keep-Alive</CODE> attribute dans le champ 
 <CODE>Connection:</CODE> de chaque requête.
<!-- NEED 3in -->
</P>
<H3><A NAME="KeepAliveTimeout">KeepAliveTimeout</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
KeepAliveTimeout 60
KeepAliveTimeout 30
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>KeepAliveTimeout</CODE> contrôle combien de temps une connexion HTTP persistante restera ouverte 
après la dernière requête.
La valeur implicite est de 60 secondes.
<!-- NEED 3in -->
</P>
<H3><A NAME="Limit">Limit</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
&lt;Limit GET POST&gt;
...
&lt;/Limit&gt;

&lt;Limit ALL&gt;
...
&lt;/Limit&gt;
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Limit</CODE> groupe les directives de contrôle d'accès pour certains types spécifiques de requêtes HTTP et doit apparaître
à l'intérieur d'une section <A HREF="#Location"><CODE>Location</CODE></A>.
L'accès peut être limité à des types individuels de requêtes (<CODE>DELETE</CODE>, <CODE>GET</CODE>, <CODE>HEAD</CODE>
, <CODE>OPTIONS</CODE>, <CODE>POST</CODE>, <CODE>PUT</CODE>, et 
<CODE>TRACE</CODE>) ou pour tous les types de requêtes (<CODE>ALL</CODE>). Les noms de types de requêtes sont dépendants de la casse pour des raisons
de compatibilité avec Apache.
<!-- NEED 3in -->
</P>
<H3><A NAME="LimitExcept">LimitExcept</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
&lt;LimitExcept GET POST&gt;
...
&lt;/LimitExcept&gt;
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>LimitExcept</CODE> groupe les directives de contrôle d'accès pour certains types spécifiques de requêtes HTTP et doit
apparaître à l'intérieur d'une section <A HREF="#Location"> <CODE>Location</CODE></A>.
Contrairement à la directive <A HREF="#Limit"><CODE>Limit</CODE></A>, <CODE>LimitExcept</CODE> restreint l'accès pour toutes les requêtes
 <I>à l'exception</I> de celles listées dans la ligne <CODE>LimitExcept</CODE>.
<!-- NEED 3in -->
</P>
<H3><A NAME="LimitRequestBody">LimitRequestBody</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
LimitRequestBody 10485760
LimitRequestBody 10m
LimitRequestBody 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>LimitRequestBody</CODE> contrôle la taille maximale des fichiers d'impression, des requêtes IPP, et des données des formulaires
HTML dans les requêtes HTTP POST. La limite implicite est de 0 ce qui désactive la vérification de la limite.</P>
<P>Reportez-vous également à la directive similaire <A HREF="#MaxRequestSize"><CODE>MaxRequestSize</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="Listen">Listen</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Listen 127.0.0.1:631
Listen 192.0.2.1:631
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Listen</CODE> indique une adresse réseau et un port sur lequel écouter en attente de connexions. Plusieurs directives
<CODE>Listen</CODE> peuvent être indiquées pour écouter sur de multiples adresses.</P>
<P>La directive <CODE>Listen</CODE> est similaire à la directive <A HREF="#Port"><CODE>Port</CODE></A> 
mais vous permet de restreindre l'accès à des interfaces ou des réseaux spécifiques.
<!-- NEED 3in -->
</P>
<H3><A NAME="Location">Location</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
&lt;Location /&gt;
...
&lt;/Location&gt;

&lt;Location /admin&gt;
...
&lt;/Location&gt;

&lt;Location /printers/name&gt;
...
&lt;/Location&gt;
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Location</CODE> indique des options de contrôle d'accès et d'authentification pour le chemin ou 
la ressource HTTP indiquée.
Des informations supplémentaires sont disponibles plus loin dans le chapitre dans la section
<A HREF="#PRINTING_SECURITY">&quot;Sécurité du système d'impression&quot;</A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="LogLevel">LogLevel</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
LogLevel none
LogLevel emerg
LogLevel alert
LogLevel crit
LogLevel error
LogLevel warn
LogLevel notice
LogLevel info
LogLevel debug
LogLevel debug2
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>LogLevel</CODE> indique la quantité d'informations à consigner dans le fichier <A HREF="#ErrorLog"><CODE>ErrorLog</CODE></A>.
Les valeurs suivantes sont reconnues (chaque niveau inclut tout ce qui l'est dans les niveaux inférieurs):</P>
<UL>
<LI><CODE>none</CODE> - Ne consigne rien.</LI>
<LI><CODE>emerg</CODE> - Consigne les conditions d'urgence qui empêchent le serveur de fonctionner.</LI>
<LI><CODE>alert</CODE> - Consigne les alertes qui doivent être traitées immédiatement.</LI>
<LI><CODE>crit</CODE> - Consigne les erreurs critiques qui n'empêchent pas le serveur de fonctionner.</LI>
<LI><CODE>error</CODE> - Consigne les erreurs générales.</LI>
<LI><CODE>warn</CODE> - Consigne les erreurs et les avertissements.</LI>
<LI><CODE>notice</CODE> - Consigne les conditions d'erreurs temporaires.</LI>
<LI><CODE>info</CODE> - Consigne toutes les requêtes de modifications et de changement d'état (valeur implicite).</LI>
<LI><CODE>debug</CODE> - Consigne des informations basiques de débogage.</LI>
<LI><CODE>debug2</CODE> - Consigne toutes les informations de débogage.</LI>
</UL>

<!-- NEED 3in -->
<H3><A NAME="MaxClients">MaxClients</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxClients 100
MaxClients 1024
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxClients</CODE> contrôle le nombre maximum de clients simultanés qui seront autorisés par le serveur. La valeur implicite ("par défaut")
est de 100 clients.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Etant donné que chaque travail d'impression demande un descripteur de fichier pour le tube de contrôle, le serveur CUPS limite de manière
interne la valeur <CODE>MaxClients</CODE> au tiers des descripteurs de fichiers disponibles pour éviter les possibles problèmes lors de
l'impression de nombreux travaux d'impression.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 3in -->
</P>
<H3><A NAME="MaxJobs">MaxJobs</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxJobs 100
MaxJobs 9999
MaxJobs 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxJobs</CODE> contrôle le nombre maximum de travaux d'impression qui sont conservés en mémoire. Dès que le nombre de
travaux atteint la limite, le plus ancien travail complété est automatiquement purgé du système pour libérer de l'espace pour le nouveau
travail. Si tous les travaux connus sont toujours en attente de traitement ou actifs, alors le nouveau travail sera rejeté.</P>
<P>Régler cette valeur sur 0 (valeur implicite) désactive cette fonctionnalité.
<!-- NEED 3in -->
</P>
<H3><A NAME="MaxJobsPerPrinter">MaxJobsPerPrinter</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxJobsPerPrinter 100
MaxJobsPerPrinter 9999
MaxJobsPerPrinter 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxJobsPerPrinter</CODE> contrôle le nombre maximum de travaux actifs qui sont autorisés pour chaque imprimante ou classe
d'imprimantes. Dès que le nombre est atteint pour une imprimante ou une classe, les nouveaux travaux sont rejetés tant que l'un des travaux
actifs n'est pas complété, arrêté, annulé ou abandonné.</P>
<P>Régler le maximum sur la valeur 0 (valeur implicite) désactive cette fonctionnalité.
<!-- NEED 3in -->
</P>
<H3><A NAME="MaxJobsPerUser">MaxJobsPerUser</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxJobsPerUser 100
MaxJobsPerUser 9999
MaxJobsPerUser 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxJobsPerUser</CODE> contrôle le nombre maximum de travaux d'impression qui sont autorisés pour chaque utilisateur. Dès
qu'un utilsateur atteint le maximum autorisé, tout nouveau travail sera rejeté avant qu'un des travaux actifs soit complété, arrêté, annulé ou
abandonné.</P>
<P>Régler le maximum sur 0 (valeur implicite) désactive cette fonctionnalité.
<!-- NEED 3in -->
</P>
<H3><A NAME="MaxLogSize">MaxLogSize</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxLogSize 1048576
MaxLogSize 1m
MaxLogSize 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxLogSize</CODE> contrôle la taille maximum de chaque fichier de suivi ("log").
Dès qu'un fichier atteint ou dépasse la limite il est fermé ou renommé en <VAR>filename.O</VAR>.
Cela vous permet de mettre en place automatiquement une rotation des fichiers de suivi. La taille implicite
est de 1048576 octets (1Mo).</P>
<P>Régler le maximum sur 0 désactive la rotation de fichier de suivi.
<!-- NEED 3in -->
</P>
<H3><A NAME="MaxRequestSize">MaxRequestSize</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
MaxRequestSize 10485760
MaxRequestSize 10m
MaxRequestSize 0
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>MaxRequestSize</CODE> contrôle la taille maximum des fichiers d'impression, des requêtes IPP, et des données des
formulaires HTML contenus dans les requêtes HTTP POST. La valeur implicite est 0, ce qui désactive cette vérification de limite.</P>
<P>Reportez-vous également à la directive similaire <A HREF="#LimitRequestBody"><CODE>LimitRequestBody</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="Order">Order</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Order Allow,Deny
Order Deny,Allow
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Order</CODE> définit le type implicite de contrôle d'accès.
Les valeurs suivantes sont prises en charge:</P>
<UL>
<LI><CODE>Allow,Deny</CODE> - Autorise les requêtes depuis tous les systèmes <I>à l'exception</I> de ceux listés dans une directive <CODE>Deny</CODE>.</LI>
<LI><CODE>Deny,Allow</CODE> - Autorise les requêtes uniquement depuis les hôtes listés dans une directive <CODE>Allow</CODE>.</LI>
</UL>
<P>La directive <CODE>Order</CODE> doit apparaître à l'intérieur d'une directive <A HREF="#Location">
 <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="PageLog">PageLog</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
PageLog /var/log/cups/page_log
PageLog /var/log/cups/page_log-%s
PageLog syslog
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>PageLog</CODE> définit le nom du fichier "page log".
Si le nom du fichier n'est pas absolu, il est considéré comme étant relatif au répertoire <A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>.
Le fichier standard "page log" est <VAR>/var/log/cups/page_log</VAR>.</P>
<P>Le nom du serveur peut être inclus dans le nom de fichier en utilisant le nom <CODE>%s</CODE>.</P>
<P>Le nom spécial &quot;syslog&quot; peut être utilisé pour envoyer les informations de page vers le fichier de suivi système au lieu d'un
simple fichier texte.
<!-- NEED 3in -->
</P>
<H3><A NAME="Port">Port</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Port 631
Port 80
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Port</CODE> indique un port sur lequel écouter en attente de connexions.
Plusieurs lignes <CODE>Port</CODE> peuvent être indiquées pour écouter sur plusieurs ports. La valeur implicite est 631.
<!-- NEED 3in -->
</P>
<H3><A NAME="PreserveJobHistory">PreserveJobHistory</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
PreserveJobHistory On
PreserveJobHistory Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>PreserveJobHistory</CODE> contrôle si l'historique des travaux complétés, annulés ou abandonnés est conservé sur disque ou non.</P>
<P>Une valeur <CODE>On</CODE> (valeur implicite) conserve les informations concernant les travaux jusqu'à ce que l'administrateur
les purge  avec la commande <CODE>cancel</CODE>.</P>
<P>Une valeur <CODE>Off</CODE> retire les informations concernant les travaux dès que ceux-ci sont complétés, annulés ou abandonnés.
<!-- NEED 3in -->
</P>
<H3><A NAME="PreserveJobFiles">PreserveJobFiles</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
PreserveJobFiles On
PreserveJobFiles Off
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>PreserveJobFiles</CODE> contrôle si les fichiers des documents complétés, annulés ou abandonnés sont stockés sur disque.</P>
<P>La valeur <CODE>On</CODE> conserve les fichiers des travaux jusqu'à ce que l'administrateur les purge au moyen de la commande <CODE>cancel</CODE>.
Les travaux peuvent être resoumis (réimprimés) jusqu'à ce qu'ils soient purgés.</P>
<P>La valeur <CODE>Off</CODE> (valeur implicite) retire les fichiers des travaux dès ceux-ci sont complétés, annulés ou abandonnés.
<!-- NEED 3in -->
</P>
<H3><A NAME="Printcap">Printcap</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Printcap
Printcap /etc/printcap
Printcap /etc/printers.conf
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Printcap</CODE> contrôle si le fichier printcap est automatiquement généré et mis à jour ou non avec une liste des imprimantes
disponibles. Si la directive est utilisée sans valeur, alors aucun fichier printcap ne sera généré. La valeur implicite est de
générer un fichier nommé <VAR>/etc/printcap</VAR>.</P>
<P>Quand un nom de fichier est indiqué (par exemple <VAR>/etc/printcap</VAR>),
le fichier printcap est écrit dès qu'une imprimante est ajoutée ou supprimée.
Le fichier printcap peut alors être utilisé par les applications dont l'utilisation du fichier printcap comme référence des imprimantes
disponibles est codée en dur.
<!-- NEED 3in -->
</P>
<H3><A NAME="PrintcapFormat">PrintcapFormat</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
PrintcapFormat BSD
PrintcapFormat Solaris
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>PrintcapFormat</CODE> contrôle le format de sortie du fichier printcap.
Le comportement implicite est de générer un fichier printcap de type BSD.
<!-- NEED 3in -->
</P>
<H3><A NAME="PrintcapGUI">PrintcapGUI</A></H3>
<HR>
<H4>Example</H4>
<UL>
<PRE>
PrintcapGUI /usr/bin/glpoptions
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>PrintcapGUI</CODE> indique le programme à utiliser pour afficher le panneau d'options à partir d'une application
IRIX qui utiliser l'API d'impression Impressario. Le programme implicite est le programme graphique &quot;glpoptions&quot; d'ESP Print Pro.</P>
<P>Le programme doit accepter l'option <CODE>-d</CODE> pour indiquer l'imprimante et l'option <CODE>-o</CODE> pour indiquer une ou plusieurs
options. Après avoir autorisé l'utilisateur à sélectionner/changer les options, le programme doit écrire la liste des options d'impression
sans le <CODE>-o</CODE> sur la sortie standard.
<!-- NEED 3in -->
</P>
<H3><A NAME="RemoteRoot">RemoteRoot</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
RemoteRoot remroot
RemoteRoot root
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>RemoteRoot</CODE> fixe le nom d'utilisateur à utiliser pour les requêtes root non authentifiées depuis des hôtes distants.
Le nom d'utilisateur standard est <VAR>remroot</VAR>.
Régler <CODE>RemoteRoot</CODE> sur <VAR>root</VAR> désactive effectivement ce mécanisme de sécurité.
<!-- NEED 3in -->
</P>
<H3><A NAME="RequestRoot">RequestRoot</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
RequestRoot /var/spool/cups
RequestRoot /foo/bar/spool/cups
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>RequestRoot</CODE> définit le répertoire pour les requêtes entrantes IPP et les formulaires HTML.
Si un chemin absolu n'est pas fourni alors il est considéré comme relatif au répertoire <A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>. Le répertoire implicite est <VAR>/var/spool/cups</VAR>.
<!-- NEED 4in -->
</P>
<H3><A NAME="Require">Require</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Require group foo bar
Require user john mary
Require valid-user
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Require</CODE> indique que l'authentification est nécessaire pour l'accès à la ressource considérée.
Le mot clef <CODE>group</CODE> indique que l'utilisateur authentifié doit être membre d'un ou plusieurs des groupes qui suivent.</P>
<P>Le mot clef <CODE>user</CODE> indique que l'utilisateur authentifié doit être l'un des utilisateurs dont les noms suivent.</P>
<P>Le mot clef <CODE>valid-user</CODE> indique que tout utilisateur authentifié peut accéder à la ressource.</P>
<P>Le comportement implicite ("par défaut") est de ne faire aucune authentification.
Cette directive doit apparaître à l'intérieur d'une directive <A HREF="#Location"><CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="RIPCache">RIPCache</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
RIPCache 8m
RIPCache 1g
RIPCache 2048k
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>RIPCache</CODE> définit la quantité de mémoire utilisée par les filtres RIP ("Raster Images Processor") tels que <CODE>
imagetoraster</CODE> et <CODE>pstoraster</CODE>.
La taille peut être suffixée par &quot;k&quot; pour kilo-octets, &quot;m&quot; pour méga-octets, ou &quot;g&quot; pour
 giga-octets. La taille implicite est de &quot;8m&quot;, ou 8 méga-octets.
<!-- NEED 3in -->
</P>
<H3><A NAME="RunAsUser">RunAsUser</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
RunAsUser Yes
RunAsUser No
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>RunAsUser</CODE> contrôle si l'ordonnanceur fonctionne sous l'identité d'un compte utilisateur non privilégié
(habituellement <CODE>lp</CODE>). La valeur implicite est <CODE>No</CODE> qui laisse l'utilisateur fonctionner
en tant qu'utilisateur <CODE>root</CODE>.</P>
<P><B>Note:</B> Faire fonctionner CUPS en tant qu'utilisateur non privilégié peut empêcher
LPD et les imprimantes connectées localement de fonctionner correctement en raison de problèmes de permissions. Le programme d'arrière-plan
 <CODE>lpd</CODE> utilisera automatiquement le mode non privilégié ce qui est 100% conforme à la RFC 1179. Les programmes d'arrière-plan
<CODE>parallel</CODE>, <CODE>serial</CODE>, et <CODE>usb</CODE> auront besoin d'accès en écriture aux fichiers de périphériques correspondants.
<!-- NEED 3in -->
</P>

<H3><A NAME="Satisfy">Satisfy</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Satisfy all
Satisfy any
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Satisfy</CODE> indique si toutes les conditions doivent être satisfaites pour ouvrir l'accès à la ressource.
Si la valeur est <CODE>all</CODE> alors toutes les conditions d'authentification et de contrôle d'accès doivent être satisfaites pour
que l'accès soit autorisé.</P>
<P>Régler <CODE>Satisfy</CODE> à la valeur <CODE>any</CODE> autorise un utilisateur à obtenir l'accès si l'authentification ou le contrôle d'accès
est satisfait. Par exemple, vous pourriez exiger l'authentifiation pour l'accès à distance mais autoriser l'accès local sans elle.</P>
<P>La valeur implicite est <CODE>all</CODE>. Cette directive doit apparaître à l'intérieur d'une directive <A
HREF="#Location"> <CODE>Location</CODE></A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerAdmin">ServerAdmin</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerAdmin user@host
ServerAdmin root@foo.bar.com
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerAdmin</CODE> identifie l'adresse de courriel de l'administrateur du système. La valeur implicite est <CODE>root@serveur</CODE>,
où <CODE>server</CODE> est le nom du serveur.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerBin">ServerBin</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerBin /usr/lib/cups
ServerBin /foo/bar/lib/cups
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerBin</CODE> définit le répertoire contenant les fichiers exécutables du serveur. 
Si un chemin absolu n'est pas indiqué, il est considéré comme relatif au répertoire 
<A HREF="#ServerRoot"><CODE>ServerRoot</CODE>
</A>. Le répertoire implicite est <VAR> /usr/lib/cups</VAR>.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerCertificate">ServerCertificate</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerCertificate /etc/cups/ssl/server.crt
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerCertificate</CODE> définit l'emplacement du fichier de certificat SSL utilisé par le serveur
lors de la négociation des connexions encryptées. Le certificat ne doit pas être encrypté (protégé par un mot de passe) car l'ordonnanceur fonctionne
normalement en arrière-plan et et ne sera pas en mesure de demander un mot de passe. Le fichier standard de certificat est <VAR>
 /etc/cups/ssl/server.crt</VAR>.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerKey">ServerKey</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerKey /etc/cups/ssl/server.key
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerKey</CODE> indique l'emplacement du fichier de clé privée SSL utilisé par le serveur pour négocier les connexions
encryptées. Le fichier standard de clé est <VAR> /etc/cups/ssl/server.crt</VAR>
.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerName"></A>ServerName</H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerName foo.domain.com
ServerName myserver.domain.com
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerName</CODE> indique le nom d'hôte qui doit être envoyé aux clients. En standard, le nom du serveur est le nom d'hôte.
<!-- NEED 3in -->
</P>
<H3><A NAME="ServerRoot">ServerRoot</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
ServerRoot /etc/cups
ServerRoot /foo/bar/cups
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>ServerRoot</CODE> indique un chemin absolu pour les fichiers de configuration et d'état du serveur.
Il est également utilisé pour interpréter les chemins relatifs présents dans le fichier <VAR>cupsd.conf</VAR> file.
Le répertoire standard est <VAR>/etc/cups</VAR>.
<!-- NEED 3in -->
</P>
<H3><A NAME="SSLListen">SSLListen</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
SSLListen 127.0.0.1:443
SSLListen 192.0.2.1:443
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>SSLListen</CODE> indique une adresse réseau et un port sur lequel écouter les tentatives de connexion sécurisées.
Plusieurs directives <CODE>SSLListen</CODE> peuvent être fournies pour indiquer plusieurs adresses sur lesquelles écouter.</P>
<P>La directive <CODE>SSLListen</CODE> est similaire à la directive 
<A HREF="#SSLPort"><CODE>SSLPort</CODE></A> mais vous permet de restreindre l'accès à certaines interfaces ou réseaux.
<!-- NEED 3in -->
</P>
<H3><A NAME="SSLPort">SSLPort</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
SSLPort 443
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>SSLPort</CODE> indique le port sur lequel écouter les tentatives de connexions sécurisées.
Plusieurs lignes <CODE>SSLPort</CODE> peuvent être indiquées pour écouter les connexions sur plusieurs ports.
<!-- NEED 3in -->
</P>
<H3><A NAME="SystemGroup">SystemGroup</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
SystemGroup sys
SystemGroup system
SystemGroup root
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>SystemGroup</CODE> indique le groupe système d'aministration pour l'authentification de type <CODE>System</CODE>.
Plus d'information peut être trouvée plus loin dans ce chapitre dans la section 
<A HREF="#PRINTING_SECURITY">&quot;Sécurité du système d'impression&quot;</A>.
<!-- NEED 3in -->
</P>
<H3><A NAME="TempDir">TempDir</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
TempDir /var/tmp
TempDir /foo/bar/tmp
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>TempDir</CODE> indique un chemin absolu pour le répertoire à employer pour les fichiers temporaires.
Le répertoire standard est <VAR>/var/tmp</VAR>.</P>
<P>Les répertoires temporaires doivent être inscriptibles pour tous et devraient avoir le &quot;sticky&quot; bit activé
de sorte que les utilisateurs ne puissent pas supprimer les fichiers temporaires de filtres.
Les commandes suivantes créerons un répertoire temporaire approprié appelé <VAR>/foo/bar/tmp</VAR>:</P>
<UL>
<PRE>
<B>mkdir /foo/bar/tmp ENTREE</B>
<B>chmod a+rwxt /foo/bar/tmp ENTREE</B>
</PRE>
</UL>

<!-- NEED 3in -->
<H3><A NAME="Timeout">Timeout</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
Timeout 300
Timeout 90
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>Timeout</CODE> définit le délai à attendre avant qu'une requête HTTP ou IPP active ne soit hors délai. La valeur implicite est de 300 secondes.
<!-- NEED 3in -->
</P>
<H3><A NAME="User">User</A></H3>
<HR>
<H4>Exemples</H4>
<UL>
<PRE>
User lp
User guest
</PRE>
</UL>
<H4>Description</H4>
<P>La directive <CODE>User</CODE> indique l'utilisateur UNIX sous l'identité duquel les programmes CGI et les filtres doivent fonctionner.
La valeur implicite est <CODE>lp</CODE>.
<!-- NEW PAGE -->
</P>
<H2><A NAME="PRINTING_SECURITY">Sécurité du système d'impression</A></H2>

<P>CUPS prend en charge le contrôle d'accès et l'authentification basée sur l'adresse, un certificat ou un mot de passe
(mode "Basic" et "Digest"). Les authentifications par mot de passe et certificat fournissent des moyens de limiter l'accès
à certaines personnes ou certains groupes.</P>

<P>Le contrôle d'accès basé sur l'adresse vous permet de limiter l'accès à certains systèmes, réseaux ou domaines particuliers.
Bien que cela ne soit pas de l'authentification, cela vous permet de restreindre efficacement le nombre potentiel d'utilisateurs
de votre système.</P>

<P>CUPS maintient à jour une liste des emplacements dont l'authentification et/ou le contrôle d'accès est/sont activé(e)(s).
Ces emplacements sont indiqués en utilisant la directive 
<A HREF="#Location"><CODE>Location</CODE></A>:</P>
<UL>
<PRE>
&lt;Location /ressource&gt;
<A HREF="#AuthClass">AuthClass</A> ...
<A HREF="#AuthGroupName">AuthGroupName</A> ...
<A HREF="#AuthType">AuthType</A> ...

<A HREF="#Order">Order</A> ...
<A HREF="#Allow">Allow</A> from ...
<A HREF="#Deny">Deny</A> from ...
&lt;/Location&gt;
</PRE>
</UL>
<P>Les emplacements suivent généralement la structure arborescente du contenu du répertoire
<A HREF="#DocumentRoot"><CODE>DocumentRoot</CODE></A>, cependant CUPS possède de nombreux emplacements virtuels pour l'administration, les classes, les travaux
d'impression et les imprimantes:
<CENTER>
<TABLE BORDER="1">
<TR><TH>Emplacement</TH><TH>Description</TH></TR>
<TR><TD>/admin</TD><TD>Le chemin pour toutes les opérations d'administration.</TD></TR>
<TR><TD>/classes</TD><TD>Le chemin pour toutes les classes d'imprimantes.</TD></TR>
<TR><TD>/classes/nom_classe</TD><TD>Les ressources pour la classe nommée <CODE>nom_classe</CODE>.</TD>
</TR>
<TR><TD>/jobs</TD><TD>Le chemin pour tous les travaux d'impression.</TD></TR>
<TR><TD>/jobs/id</TD><TD>Les ressources pour le travail d'impression n°<CODE>id</CODE>.</TD></TR>
<TR><TD>/printers</TD><TD>Le chemin pour toutes les imprimantes.</TD></TR>
<TR><TD>/printers/nom_imprimante</TD><TD>Le chemin pour l'imprimante nommée <CODE>nom_imprimante</CODE>.</TD>
</TR>
<TR><TD>/printers/nom_imprimante.ppd</TD><TD>Le chemin du fichier PPD pour l'imprimante <CODE>nom_imprimante</CODE>.</TD></TR>
</TABLE>
</CENTER>
</P>
<H3><A NAME="CERTIFICATES">Authentification basée sur les certificats</A></H3>

<P>CUPS prend en charge une authentification locale basée sur les certificats qui peut être utilisée à la place des authentifications
"Basic" et "Digest" pour les clients se connectant à l'interface <CODE>localhost</CODE>.
L'authentification par certificats n'est ni prise en charge, ni permise pour les clients se connectant par le biais de toute
autre interface.</P>

<P>Les certificats sont des nombres aléatoires codés sur 128 bits qui font référence à un enregistrement interne
d'authentification sur le serveur. Un client se connectant via l'interface <CODE>localhost</CODE> envoie une requête avec un en-tête d'autorisation:</P>
<UL>
<PRE>
Authorization: Local 0123456789ABCDEF0123456789ABCDEF
</PRE>
</UL>

<P>Le serveur vérifie alors le certificat local correspondant et authentifie le nom d'utilisateur qui y est associé.</P>

<P>Les certificats sont automatiquement générés par le serveur et stockés dans le répertoire <VAR>/etc/cups/certs</VAR>
en utilisant le n° de processus du programme CGI ("process ID") exécuté par le serveur. Les fichiers de certificats sont
en lecture seule pour les utilisateurs <A HREF="#User"><CODE>User</CODE></A> et groupes 
<A HREF="#Group"><CODE>Group</CODE></A> définis dans le fichier <VAR> cupsd.conf</VAR>. Quand le programme CGI se termine, le certificat est retiré
et rendu automatiquement invalide.</P>

<P>Le fichier spécial <VAR>/etc/cups/certs/0</VAR> définit le <I>certificat de root</I> qui peut être utilisé par tout client
fonctionnant sous l'identité du super-utilisateur et qui appartient au group défini par la directive
<A HREF="#SystemGroup"><CODE>SystemGroup</CODE></A>.
Le certificat de root est automatiquement régénéré toutes les 5 minutes.</P>

<H3><A NAME="7_5_2">Utilisation de l'authentification "Basic"</A></H3>

<P>L'authentification "Basic" utilise les utilisateurs et mots de passe UNIX pour authentifier l'accès à des ressources
telles que les imprimantes ou les classes et pour limiter l'accès aux fonctions d'administration.<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>L'authentification "Basic" transmet le nom d'utilisateur et le mot de passe en clair (encodage Base64) du client vers
le serveur, donc elle n'offre aucune protection contre l'espionnage. Cela signifie qu'une utilisateur mal intentionné peut
écouter les paquets réseau et découvrir ces informations. Il peut en résulter une sérieuse compromission de la sécurité de
votre réseau. Utilisez l'authentification avec la plus grande prudence.
</TD></TR>
</TABLE>
</CENTER>
</P>
<P>L'implémentation de l'authentification "Basic" dans CUPS ne permet pas l'accès en utilisant des comptes sans
mot de passe. Si vous tentez d'authentifier un tel compte, l'accès sera immédiatement bloqué.</P>
<P>Une fois le nom d'utilisateur et le mot de passe authentifiés par CUPS, les contraintes supplémentaires d'appartenance à des groupes sont vérifiées
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Pour CUPS, l'utilisateur root est considéré comme membre de tous les groupes.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 1in -->
</P>
<P>Utilisez la directive <CODE>AuthType</CODE> pour activer l'authentification "Basic":</P>
<UL>
<PRE>
AuthType Basic
</PRE>
</UL>

<!-- NEED 7in -->
<H3><A NAME="7_5_3">Utilisation de l'authentification "Digest"</A></H3>

<P>L'authentification "Digest" utilise des utilisateurs et mots de passe définis dans le fichier <VAR>/etc/cups/passwd.md5</VAR> pour authentifier l'accès aux ressources telles que les imprimantes et les classes et pour 
limiter l'accès aux fonctions d'administration.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>

<P>Contrairement à l'authentification "Basic", "Digest" transmet une version codée du nom d'utilisateur et du mot de passe
en utilisant le codage MD5 (en résumé, une somme de contrôle compliquée) au lieu de leur version en clair. De plus,
l'authentification "Digest" n'utilise pas les utilisateurs et mots de passe UNIX, ainsi si un attaquant découvre le mot de
passe original il est moins probable qu'il en résulte un problème de sécurité, pour peu que vous utilisiez un mot de passe
"Digest" différent de celui stocké par UNIX.</P>

<P>L'implémentation actuelle de l'authenfication "Digest" dans CUPS utilise le nom d'hôte du client ou son adresse IP comme
valeur "nonce". La valeur "nonce" est une chaîne de caractères additionnelle ajoutée au nom d'utilisateur et au mot de passe
pour rendre la découverte de ce dernier plus difficile. Le serveur vérifie que la valeur "nonce" correspond au nom d'hôte
ou l'adresse IP du client et, si tel n'est pas le cas, rejette la somme MD5 proposée par celui-ci. Les prochaines versions
de CUPS prendront en charge l'authentification "Digest" par "session" qui ajoutera les données de la requête à la somme
MD5, fournissant ainsi une sécurité et une authentification encore meilleures.</P>

<P>L'authentification "Digest" ne garantit pas qu'un attaquant ne peut pas obtenir un accès non autorisé mais elle est plus
sûre que l'authentification "Basic" et devrait être utilisée à la place de celle-ci chaque fois que c'est possible.
<B>La prise en charge de l'authentification "Digest" dans les navigateurs "web" n'est pas encore universellement disponible.</B></P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 2in -->
</P>
<P>La commande <CODE>lppasswd(1)</CODE> est utilisée pour ajouter, changer et retirer des comptes du fichier <VAR>passwd.md5</VAR>.
Pour ajouter un utilisateur au groupe système standard, tapez:</P>
<UL>
<PRE>
<B>lppasswd -a utilisateur ENTREE</B>
Password: <B>(mot de passe) ENTREE</B>  [le mot de passe n'est pas affiché]
Password again: <B>(mot de passe) ENTREE</B> [le mot de passe n'est pas affiché]
</PRE>
</UL>

<!-- NEED 2in -->
<P>Une fois ajouté, un utilisateur peut changer son mot de passe en tapant:</P>
<UL>
<PRE>
<B>lppasswd ENTREE</B>
Old Password: <B>(mot de passe) ENTREE</B>  [le mot de passe n'est pas affiché]
Password : <B>(mot de passe) ENTREE</B> [le mot de passe n'est pas affiché]
Password again: <B>(mot de passe) ENTREE</B> [le mot de passe n'est pas affiché]
</PRE>
</UL>

<!-- NEED 1in -->
<P>Pour retirer un utilisateur du fichier des mots de passe, tapez:</P>
<UL>
<PRE>
<B>lppasswd -x utilisateur ENTREE</B>
</PRE>
</UL>
<P>Une fois qu'un utilisateur et un mot de passe valides ont été authentifiés pas CUPS, celui-ci vérifie les 
contraintes supplémentaires d'appartenance à des groupes.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Pour CUPS, l'utilisateur root est membre de tous les groupes.</P>
</TD></TR>
</TABLE>
</CENTER>
</P>
<P>Utilisez la directive <CODE>AuthType</CODE> pour activer l'authentification "Digest":</P>
<UL>
<PRE>
AuthType Digest
</PRE>
</UL>
<H3><A NAME="7_5_4">Authentifications "System" et "Group"</A></H3>
<P>La directive <A HREF="#AuthClass"><CODE>AuthClass</CODE></A> contrôle le niveau d'authentification
à effectuer. Les authentifications <CODE>System</CODE> et <CODE>Group</CODE> 
ajoutent à l'authentification normale basée sur l'utilisateur une contrainte d'appartenance à un groupe UNIX.
Pour l'authentification <CODE>System</CODE>, chaque utilisateur doit être membre du groupe <CODE>sys</CODE>, 
<CODE>system</CODE>, ou <CODE>root</CODE>; le groupe réel dépend du système d'exploitation.</P>

<P>Pour l'authentification <CODE>Group</CODE> l'utilisateur doit être membre du group indiqué par la directive
<A HREF="#AuthGroupName"><CODE>AuthGroupName</CODE></A>:</P>
<UL>
<PRE>
&lt;Location /path&gt;
AuthType Digest
AuthClass Group
AuthGroupName mygroup
&lt;/Location&gt;
</PRE>
</UL>
<P>Le groupe indiqué doit être un groupe UNIX valide, habituellement défini dans les fichiers <VAR>/etc/group</VAR>
ou <VAR>/etc/netgroup</VAR>. De plus, lors de l'utilisation de l'authentification "Digest", vous devez créer les comptes
utilisateur avec le groupe indiqué:</P>
<UL>
<PRE>
<B>lppasswd -g mon_groupe -a utilisateur ENTER</B>
Password : <B>(mot de passe) ENTREE</B> [le mot de passe n'est pas affiché]
Password again: <B>(mot de passe) ENTREE</B> [le mot de passe n'est pas affiché]
</PRE>
</UL>

<!-- NEW PAGE -->
<H2><A NAME="PRINTER_ACCOUNTING">Suivi/facturation de travaux et d'imprimantes</A></H2>
<P>ESP Print Pro maintient à jour un suivi ("log") de tous les accès, erreurs et pages qui sont imprimées. Les fichiers de
suivi sont normalement stockés dans le répertoire <VAR>/var/log/cups</VAR>.
Vous pouvez changer cela en éditant le fichier de configuration <VAR>/etc/cups/cupsd.conf</VAR>.</P>

<H3><A NAME="7_6_1">Le fichier access_log</A></H3>
<P>Le fichier <VAR>access_log</VAR> liste chaque ressource HTTP qui est utilisée par le serveur "web" ou un client CUPS/IPP.
Chaque ligne est structurée dans le format habituel utilisé par de nombreux serveurs "web" et outils d'analyse.:</P>
<UL>
<PRE>
Hôte Groupe Utilisateur Date/heure \&quot;Méthode Ressource Version\&quot; Etat Octets

127.0.0.1 - - [20/May/1999:19:20:29 +0000] &quot;POST /admin/ HTTP/1.1&quot; 401 0
127.0.0.1 - mike [20/May/1999:19:20:31 +0000] &quot;POST /admin/ HTTP/1.1&quot; 200 0
</PRE>
</UL>
<P>Le champ <I>hôte</I> ne devrait normalement être qu'une adresse IP à moins que vous n'activiez la directive
<A HREF="#HostNameLookups"><CODE>HostNameLookups</CODE></A> dans le fichier <VAR>cupsd.conf</VAR>.</P>

<P>Le champ <I>groupe</I> contient toujours &quot;-&quot; dans CUPS.</P>

<P>Le champ <I>utilisateur</I> est le nom de l'utilisateur authentifié qui a émis la requête. Si aucun nom d'utilisateur et
mot de passe n'est fourni pour la requête, alors ce champ contient &quot;-&quot;.</P>
<P>Le champ <I>date/heure</I> contient la date et l'heure de la requête exprimées dans le fuseau horaire local, et est structuré
 de la manière suivante:</P>
<UL>
<PRE>
[JJ/MMM/AAAA:HH:MM:SS +ZZZZ]
</PRE>
</UL>
<P>où <I>ZZZZ</I> est le décalage horaire entre le fuseau horaire local et l'heure Greenwich Mean Time (a.k.a. GMT a.k.a. ZULU.) (NdT : en réalité GMT est un abus de langage, il s'agit du temps UTC...)</P>
<P>Le champ <I>méthode</I> est la méthode HTTP utilisée (&quot;GET&quot;, &quot;PUT&quot;,
 &quot;POST&quot;, etc.)</P>
<P>Le champ <I>ressource</I> est le nom du fichier de la ressource demandée.</P>
<P>Le champ <I>version</I> est la version du protocole HTTP employé par le client. 
Pour les clients CUPS,  c'est toujours &quot;HTTP/1.1&quot;.</P>
<P>Le champ <I>Etat</I> contient l'état du résultat HTTP de la requête. Habituellement, il s'agit de la valeur &quot;200&quot;, mais
d'autres codes d'état HTTP sont possibles.
Par exemple, 401 est le code d'état pour &quot;accès non autorisé&quot; dans l'exemple ci-dessus.</P>
<P>Le champs <I>octets</I> contient le nombre d'octets contenus dans la requête.
Pour les requêtes POST, le champ <I>octets</I> contient le nombre d'octets reçus du client.</P>

<H3><A NAME="7_6_2">Le fichier error_log</A></H3>

<P>Le fichier <VAR>error_log</VAR> liste les messages provenant de l'ordonnanceur (erreurs, avertissements, etc.):</P>
<UL>
<PRE>
Niveau Date/Heure Message

I [20/May/1999:19:18:28 +0000] Job 1 queued on 'DeskJet' by 'mike'.
I [20/May/1999:19:21:02 +0000] Job 2 queued on 'DeskJet' by 'mike'.
I [20/May/1999:19:22:24 +0000] Job 2 was cancelled by 'mike'.
</PRE>
</UL>
<P>Le champ <I>Niveau</I> contient le type du message:</P>
<UL>
<LI><CODE>E</CODE> - Une erreur est survenue.</LI>
<LI><CODE>W</CODE> - Le serveur a été incapable d'effectuer une action.</LI>
<LI><CODE>I</CODE> - Message d'information.</LI>
<LI><CODE>D</CODE> - Message de débogage.</LI>
</UL>
<P>Le champ <I>Date/heure</I> contient la date et l'heure de début d'impression de la page. 
Le format est identique à celui du champ <I>Date/heure</I> dans le fichier <VAR>access_log</VAR>.</P>
<P>Le champ <I>Message</I> contient un message textuel dont la forme est libre.</P>

<H3><A NAME="7_6_3">Le fichier page_log</A></H3>

<P>Le fichier <VAR>page_log</VAR> liste chaque page qui est envoyée à une imprimante. 
Chaque ligne contient les informations suivantes:</P>
<UL>
<PRE>
Imprimante Utilisateur N°travail Date/heure N°Page Nombre_copies Facturation_travail

DeskJet root 2 [20/May/1999:19:21:05 +0000] 1 0 acme-123
</PRE>
</UL>
<P>Le champ <I>imprimante</I> contient le nom de l'imprimante qui a imprimé la page.
Si vous envoyez un travail d'impression à une classe, le champ contient le nom de l'imprimante
à laquelle ce travail a été affecté..</P>
<P>Le champ <I>utilisateur</I> contient le nom de l'utilisateur (l'attribut <CODE>requesting-user-name</CODE> de IPP)
qui a envoyé le fichier à l'impression.</P>
<P>Le champ <I>N°Travail</I> contient le n° du travail correspondant à la page en cours d'impression. Les n° de travaux sont
remis à 1 si le serveur CUPS est redémarré, donc ne le considérez pas comme un identifiant unique !</P>
<P>Le champ <I>Date/heure</I> contient la date et l'heure de démarrage de l'impression dans un format identique au champ 
<I>Date/heure</I> du fichier <VAR>access_log</VAR>.</P>
<P>Les champs <I>N°Page</I> et <I>Nombre_copies</I> contiennent le n° de page imprimée et le nombre de copies de cette page.
Pour les imprimantes qui ne peuvent pas produire de copies multiples de manière autonome, le champ <I>Nombre_copies</I> est toujours
à 1.</P>
<P>Le champ <I>facturation_travail</I> contient une copie de l'attribut <CODE>job-billing</CODE>
 fourni dans les requête IPP <CODE>create-job</CODE> ou 
<CODE>print-job</CODE>. Si aucune valeur n'est fournie dans la requête, ce champ contient &quot;-&quot;.
<!-- NEW PAGE -->
</P>
<H2><A NAME="FILE_TYPING_FILTERING">Filtrage et détermination des types de fichiers</A></H2>

<P>CUPS fournit un mécanisme de filtrage et de détermination du type de fichier basé sur MIME, afin de convertir les fichiers
dans un format utilisable par chaque imprimante. Au démarrage, le serveur CUPS lit les fichiers de la base de données MIME
contenus dans le répertoire <VAR>/etc/cups</VAR> (ou un répertoire indiqué au moyen de la directive <A HREF="#ServerRoot"><CODE>ServerRoot</CODE></A>)
afin de construire en mémoire une base de données de conversion et de types de fichiers.
Ces fichiers de base de données sont de simples fichiers texte ASCII et peuvent être modifiés au moyen de votre éditeur de texte
préféré.</P>
<P>Les fichiers <VAR>mime.types</VAR> et <VAR>mime.convs</VAR> définissent les types de fichiers standards et les filtres qui
sont disponibles sur le système.</P>

<H3><A NAME="7_7_1">Le fichier mime.types</A></H3>

<P>Le fichier <VAR>mime.types</VAR> définit les types de fichiers connus. 
Chaque ligne débute par le type MIME et devrait être suivi par une ou plusieurs règles de reconnaissance de fichier. Par exemple,
le type de fichier <CODE>text/html</CODE> est défini de la manière suivante:</P>
<UL>
<PRE>
text/html       html htm \
                printable(0,1024) + \
                (string(0,&quot;&lt;HTML&gt;&quot;) string(0,&quot;&lt;!DOCTYPE&quot;))
</PRE>
</UL>
<P>Les deux premièress règles indiquent que tout fichier portant l'extension <VAR>.html</VAR>
ou <VAR>.htm</VAR> est un fichier HTML. La troisième règle précise que tout fichier dont les 1024 premiers caractères sont des
caractères imprimables et commencent par les chaînes <CODE>&lt;HTML&gt;</CODE> ou <CODE>&lt;!DOCTYPE</CODE> est également un fichier HTML.</P>

<P>Les deux premières règle traitent simplement du nom du fichier. Cela est utile lorsque le nom du fichier original est
connu, cependant pour les fichiers d'impression le serveur ne dispose pas de nom de fichier. La troisième règle prend garde
à cette éventualité et détermine automatiquement le type du fichier en se basant plutôt sur son contenu.</P>
<P>Les test applicables sont les suivants:</P>
<UL>
<LI><CODE>( expr )</CODE> - Parenthèses pour grouper les expressions</LI>
<LI><CODE>+</CODE> - ET logique</LI>
<LI><CODE>,</CODE> ou espace vide - OU logique</LI>
<LI><CODE>!</CODE> - NON logique</LI>
<LI><CODE>match(&quot;pattern&quot;)</CODE> - Recherche de motif sur le nom de fichier</LI>
<LI><CODE>extension</CODE> - Recherche de motif sur &quot;*.extension&quot;</LI>
<LI><CODE>ascii(offset,length)</CODE> - Vrai si les octets sont des caractères ASCII imprimables (CR, NL, TAB, BS, 32-126)</LI>
<LI><CODE>printable(offset,length)</CODE> - Vrai si les octets sont des caractères 8 bits imprimables  (CR, NL, TAB, BS, 32-126, 160-254)</LI>
<LI><CODE>string(offset,&quot;chaîne&quot;)</CODE> - Vrai si les octets sont identiques à la chaîne</LI>
<LI><CODE>contains(offset,range,&quot;chaîne&quot;)</CODE> - Vrai si la plage d'octets contient la chaîne</LI>
<LI><CODE>char(offset,value)</CODE> - Vrai si l'octet correspond</LI>
<LI><CODE>short(offset,value)</CODE> - Vrai si l'entier sur 16 bits correspond (ordre des octets : "network" ou &quot;big-endian&quot;)</LI>
<LI><CODE>int(offset,value)</CODE> - Vrai si l'entier sur 32 bits correspond (ordre des octets : "network" ou &quot;big-endian&quot;)</LI>
<LI><CODE>locale(&quot;string&quot;)</CODE> - Vrai si la locale courante correspond à la chaîne</LI>
</UL>
<P>Toutes les valeurs numériques peuvent être exprimées en décimal (123), octal (0123), ou hexadécimal (0x123) selon le cas.
<!-- NEED 2.5in -->
</P>
<P>Les chaînes de caractères peuvent être délimitées par des quotes, sans quotes, sous forme d'une chaîne de valeurs hexadécimales ou toute combinaison de ces écritures:</P>
<UL>
<PRE>
&quot;chaîne&quot;
'chaîne'
chaîne
&lt;737472696e67&gt;
&lt;7374&gt;ring
</PRE>
</UL>
<P>Comme le montre l'exemple <CODE>text/html</CODE>, les règles peuvent être réparties sur plusieurs lignes en utilisant le
caractère "backslash" ("\"). Un exemple plus complexe est fourni par les règles de détermination du type <CODE>image/jpeg</CODE>:</P>
<UL>
<PRE>
image/jpeg      jpeg jpg jpe string(0,&lt;FFD8FF&gt;) &amp;&amp;\
                (char(3,0xe0) char(3,0xe1) char(3,0xe2) char(3,0xe3)\
                 char(3,0xe4) char(3,0xe5) char(3,0xe6) char(3,0xe7)\
                 char(3,0xe8) char(3,0xe9) char(3,0xea) char(3,0xeb)\
                 char(3,0xec) char(3,0xed) char(3,0xee) char(3,0xef))
</PRE>
</UL>
<P>Cette règle indique que tout fichier avec l'extension <VAR>.jpeg</VAR>, <VAR>
.jpg</VAR>, ou <VAR>.jpe</VAR> est un fichier JPEG. De plus, tout fichier commençant par la chaîne hexadécimale <CODE>&lt;FFD8FF&gt;</CODE>
 (JPEG Start-Of-Image) suivie d'un caractère compris entre <CODE>0xe0</CODE> et <CODE>0xef</CODE> (JPEG APPn markers) bornes comprises, est également
un fichier JPEG.</P>

<H3><A NAME="7_7_2">Le fichier mime.convs</A></H3>

<P>Le fichier <VAR>mime.convs</VAR> définit tous les programmes de filtrage qui sont connus du système.
Chaque ligne est de la forme:</P>
<UL>
<PRE>
Source Destination Coût Programme

text/plain application/postscript 50 texttops
application/vnd.cups-postscript application/vnd.cups-raster 50 pstoraster
image/* application/vnd.cups-postscript 50 imagetops
image/* application/vnd.cups-raster 50 imagetoraster
</PRE>
</UL>
<P>Le champ <I>Source</I> est un type MIME. Il peut éventuellement utiliser des méta caractères ("joker", "wildcard")
pour le sur-type ou le sous-type (par exemple &quot;text/plain&quot;, &quot;image/*&quot;,
 &quot;*/postscript&quot;).</P>
<P>Le champ <I>Destination</I> est un type MIME défini dans le fichier <VAR>mime.types</VAR>.</P>
<P>Le champ <I>Coût</I> définit un coût relatif pour l'opération de filtrage, exprimé sous forme d'une valeur entre 1 et 100.
Le coût est utilisé pour choisir entre deux jeux de filtres lors de la conversion d'un fichier. Par exemple, pour convertir 
<CODE>image/jpeg</CODE> en <CODE>application/vnd.cups-raster</CODE>, vous pourriez utiliser les filtres <CODE>imagetops</CODE>
 et <CODE>pstoraster</CODE> pour un coût total de 100, ou le filtre 
<CODE>imagetoraster</CODE> pour un coût total de 50.</P>
<P>Le champ <I>Programme</I> définit le programme de filtrage à exécuter; le programme doit accepter les arguments standards de
filtrage et les variables d'environnement décrits dans le "Manuel de conception d'interface" ainsi que le "Manuel du programmeur":</P>
<UL>
<PRE>
Programme Travail Utilisateur Titre Options [nom_fichier]
</PRE>
</UL>
<P>S'il est indiqué, l'argument <I>nom_fichier</I> définit un fichier à lire lors du filtrage, sinon le filtre doit lire l'entrée
standard. Toutes les sorties du programme de filtrage doivent être envoyées à la sortie standard.
<!-- NEED 4in -->
</P>
<H3><A NAME="7_7_3">Ajouter des filtres et des types de fichiers</A></H3>

<P>Ajouter un nouveau filtre ou type de fichier est relativement simple. 
Plutôt qu'ajouter le nouveau filtre ou type aux fichiers <VAR>mime.types</VAR> et 
<VAR>mime.convs</VAR> qui sont écrasés lorsque vous mettez CUPS à jour avec une nouvelle version,
vous devez simplement créer de nouveaux fichiers avec les extensions <VAR>.types</VAR> et <VAR>.convs</VAR>
dans le répertoire <VAR>/etc/cups</VAR>. Nous recommandons d'utiliser le nom du format ou du produit, par exemple:</P>
<UL>
<PRE>
myproduct.types
myproduct.convs
</PRE>
</UL>
<P>Si vous installez un filtre pour un fichier ou une imprimante courants, ajoutez le nom du fabricant ou de l'éditeur:</P>
<UL>
<PRE>
acme-msword.types
acme.msword.convs
</PRE>
</UL>
<P>Cela aidera à éviter les conflits de noms si vous installez plusieurs types de fichiers ou plusieurs filtres.</P>
<P>Une fois choisis les noms pour ces fichiers, créez-les au moyen de votre éditeur de texte préféré comme décrit précédemment
dans ce chapitre. Une fois ces fichiers créés, redémarrez le processus <CODE>cupsd</CODE> comme indiqué précédemment
dans <A HREF="#RESTARTING">&quot;Redémarrage du serveur CUPS&quot;</A>
.</P>
<H3><A NAME="7_7_4">Pilotes d'imprimantes et fichiers PPD</A></H3>

<P>Plusieurs pilotes d'imprimante CUPS utilisent un ou plusieurs filtres spécifiques et un fichier PPD pour chaque 
modèle d'imprimante. Les filtres pilotes d'imprimante sont enregistrés au moyen des attributs du fichier 
<CODE>cupsFilter</CODE>:</P>
<UL>
<PRE>
*cupsFilter: &quot;application/vnd.cups-raster 0 rastertohp&quot;
</PRE>
</UL>
<P>Le filtre est indiqué en utilisant seulement le type du fichier source; 
le type du fichier destination est considéré comme étant du type <CODE>imprimante/nom</CODE> -
 convenable pour envoi à l'imprimante.</P>

<H3><A NAME="7_7_5">Ecrire vos propres filtres ou pilotes d'imprimantes</A></H3>

<P>CUPS prend en charge un nombre illimité de filtres et de formats de fichiers, et peut traiter avec toute imprimante.
Si vous désirez écrire un pilote ou un filtre pour votre imprimante préférée, consultez le "Manuel du programmeur" et suivez
pas à pas les instructions qu'il contient.</P>

<H1 ALIGN="RIGHT"><A NAME="PRINTING_OTHER">7 - Imprimer depuis et vers d'autres systèmes</A></H1>

<P>Ce chapitre décrit comment imprimer depuis des système clients qui utilisent les protocoles d'impression 
LPD, Mac OS ou Windows.</P>

<H2><A NAME="8_1">Les bases</A></H2>

<P>CUPS est basé sur le protocole IPP, ainsi tout autre système prenant en charge IPP peut automatiquement envoyer ou recevoir
des travaux d'impression vers ou depuis un système utilisant CUPS. Cependant, tous les systèmes ne prennent pas encore en
charge IPP. Ce chapitre vous montrera comment connecter ces systèmes à votre serveur CUPS, que ce soit pour qu'ils
puissent accepter des travaux provenant de celui-ci ou pour lui en envoyer.</P>

<H2><A NAME="8_2">Imprimer depuis des clients LPD</A></H2>

<P>CUPS prend en charge un nombre limité des fonctionnalités des clients basés sur LPD. Avec LPD vous pouvez imprimer des
fichiers vers des imprimantes déterminées, voir l'état des files d'impression, etc. Cependant, la configuration automatique
des clients et des imprimantes n'est pas prise en charge par le protocole LPD, donc vous devez configurer manuellement chaque
client pour les imprimantes auxquelles il a besoin d'accéder.</P>

<P>Le programme <CODE>cups-lpd(8)</CODE> fournit la prise en charge pour les clients LPD.
Pour activer la prise en charge LPD sur votre serveur, éditez le contenu du fichier 
<VAR>/etc/inetd.conf</VAR> et ajoutez une ligne:</P>
<UL>
<PRE>
printer stream tcp nowait lp /usr/lib/cups/daemon/cups-lpd cups-lpd
</PRE>
</UL>
<P>Le chemin vers le programme <CODE>cups-lpd</CODE> peut varier en fonction de l'installation de votre serveur.</P>
<P>Une fois cette ligne ajoutée, envoyez un signal <CODE>HUP</CODE> au processus <CODE>inetd(8)</CODE> ou redémarrez le
système (NdT : le redémarrage du système n'est pas des plus élégants...):</P>
<UL>
<PRE>
<B>killall -HUP inetd ENTREE</B> [sur IRIX et quelques distributions GNU/Linux]
<B>kill -HUP <I>pid</I> ENTREE [Autres systèmes]</B>
<B>reboot ENTREE [Pour tous les systèmes si le signal HUP ne fonctionne pas (NdT : ...en DERNIER recours, uniquement...)]</B>
</PRE>
</UL>
<H2><A NAME="8_3">Imprimer vers des serveurs LPD</A></H2>

<P>CUPS fournit le programme d'arrière-plan <CODE>lpd</CODE> pour imprimer vers des serveurs et imprimantes
utilisant LPD. Utilisez un URI de périphérique de la forme <CODE>lpd://serveur/nom</CODE>
pour imprimer ver une imprimante sur un serveur LPD, où <CODE>serveur</CODE> 
est le nom d'hôte ou l'adresse IP du serveur et <CODE>nom</CODE> est le nom de la file d'impression.</P>

<P>Microsoft Windows NT fournit un service LPD sous le nom &quot;Serveur d'impression TCP/IP&quot;.
Pour activer l'impression sur un système Windows NT, ouvrez le panneau de configuration puis "Services", sélectionnez
le service &quot;Serveur d'impression TCP/IP&quot; et cliquez sur le bouton "Démarrer". Toute imprimante partagée
devient alors accessible via le protocole LPD.</P>

<H2><A NAME="8_4">Imprimer depuis des client Mac OS</A></H2>

<P><i>NdT : je ne suis pas spécialiste Mac et je ne dispose pas de ce type de matériel. Il se peut qu'il y ait quelques imprécisions ou erreurs dans ce qui suit, faîtes-moi
l'amitié de me les pardonner ET de me les signaler. Merci par avance...</i></P>

<P>CUPS ne fournit pas de prise en charge directe de Mac OS. Cependant, il existe plusieurs logiciels libres ou commerciaux
qui le font.</P>

<H3><A NAME="8_4_1">Columbia Appletalk Package (CAP)</A></H3>

<P>Etant donné que le serveur CAP LaserWriter (<CODE>lwsrv(8)</CODE>) ne prend pas en charge les spécifications des fichiers
PPD, nous ne recommandons pas l'utilisation de CAP avec CUPS. Cependant, vous pouvez exécuter le programme <CODE>lpsrv</CODE>
pour une prise en charge limitée de l'impression au moyen de la syntaxe suivante:</P>
<UL>
<PRE>
lwsrv -n &quot;<I>Nom</I>&quot; -p <I>Imprimante</I> -a /usr/lib/adicts -f /usr/lib/LW+Fonts
</PRE>
</UL>
<P>où <CODE>Nom</CODE> est le nom que vous voulez utiliser pour partager l'imprimante et <CODE>imprimante</CODE>
est le nom de la file d'impression.
<!-- NEED 3in -->
</P>
<H3><A NAME="8_4_2">XINET KA/Spool</A></H3>

<P>Afin d'utiliser votre système comme serveur d'impression pour des clients Mac OS, configurez chaque imprimante en utilisant
<CODE>papserver(8)</CODE> dans le fichier <VAR>/usr/adm/appletalk/services</VAR>, et en indiquant le fichier PPD correspondant
dans le répertoire<VAR>/etc/cups/ppd</VAR>.
Pour une imprimante appelée <CODE>Mon_Imprimante</CODE> la syntaxe serait de la forme suivante:</P>
<UL>
<PRE>
/usr/etc/appletalk/papserver -I -L -P /etc/cups/ppd/Mon_Imprimante.ppd \
&quot;Printer Description&quot; Mon_Imprimante
</PRE>
</UL>
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Entrez le texte ci-dessus sur une seule ligne sans le caractère "\".</P>
</TD></TR>
</TABLE>
</CENTER>

<H3><A NAME="8_4_3">NetATalk</A></H3>

<P>Pour utiliser votre système comme serveur d'impression pour des clients Mac OS, configurez chaque imprimante dans le 
fichier <VAR>papd.conf</VAR>, en indiquant le fichier PPD correspondant dans le répertoire <VAR>/etc/cups/ppd</VAR> pour
chaque imprimante. Pour une imprimante nommée <CODE>Mon_Imprimante</CODE> le texte serait de la forme suivante:</P>
<UL>
<PRE>
Printer Description:Mon_Imprimante@Mon_Serveur:\
        :pr=|/usr/bin/lp -d Mon_Imprimante:\
        :op=daemon:\
        :pd=/etc/cups/ppd/Mon_Imprimante.ppd:
</PRE>
</UL>

<!-- NEED 2in -->
<H2><A NAME="8_5">Imprimer vers des serveurs d'impression Mac OS</A></H2>

<P>Actuellement, CUPS ne fournit pas de programme d'arrière-plan pour communiquer avec un serveur Mac OS. Cependant, vous
pouvez écrire et installer un court script dans le répertoire <VAR>/usr/lib/cups/backend</VAR> qui envoie
un fichier d'impression en utilisant la commande appropriée. Le court script suivant exécutera la commande
<CODE>papif</CODE> fournie avec CAP.</P>
<P>Après avoir copié le script dans <VAR>/usr/lib/cups/backend/cap</VAR>, indiquez un URI de périphérique de la forme
<CODE>cap://serveur/imprimante</CODE> pour utiliser ce script avec une file d'impression.
<!-- NEED 8in -->
</P>
<UL>
<PRE>
<I>&quot;/usr/lib/cups/backend/cap&quot;</I>
#!/bin/sh
#
# Usage: cap job user title copies options [filename]
#

# No arguments means show available devices...

if test ${#argv} = 0; then
	echo &quot;network cap \&quot;Unknown\&quot; \&quot;Mac OS Printer via CAP\&quot;&quot;
	exit 0
fi

# Collect arguments...

user=$2
copies=$4

if test ${#argv} = 5; then
	# Get print file from stdin; copies have already been handled...
	file=/var/tmp/$$.prn
	copies=1
	cat &gt; $file
else
	# Print file is on command-line...
	file=$6
fi

# Create a dummy cap.printers file for this printer based
# upon a device URI of &quot;cap://server/printer&quot;...

echo $PRINTER/$DEVICE_URI | \
	awk -F/ '{print $1 &quot;=&quot; $5 &quot;:LaserWriter@&quot; $4}' &gt; /var/tmp/$$.cap

CAPPRINTERS=/var/tmp/$$.cap; export CAPPRINTERS

# Send the file to the printer, once for each copy. This assumes that you
# have properly initialized the cap.printers file...

while [ $copies -gt 0 ]; do
	papif -n $user &lt; $file

        copies=`expr $copies - 1`
done

# Remove any temporary files...
if test ${#argv} = 5; then
	/bin/rm -f $file
fi

/bin/rm -f /var/tmp/$$.cap

exit 0
</PRE>
</UL>

<!-- NEED 2in -->

<H2><A NAME="8_6">Imprimer depuis des clients Windows</A></H2>

<P>Bien que CUPS ne fournisse directement pas de prise en charge de Windows, le logiciel libre SAMBA le fait. La version
2.0.6 de SAMBA est la première qui prenne en charge CUPS. Vous pouvez télécharger SAMBA à l'adresse :</P>
<UL>
<PRE>
<A HREF="http://www.samba.org">http://www.samba.org</A>
</PRE>
</UL>
<P>Pour configurer SAMBA pour CUPS, éditez le contenu du fichier <VAR>smb.conf</VAR>
et remplacez les commandes d'impression existantes par les lignes:</P>
<UL>
<PRE>
printing = cups
printcap name = cups
</PRE>
</UL>
<P>C'est tout ce qu'il y a à faire! Les utilisateurs distants pourront désormais explorer les imprimantes de votre système et
leur envoyer des travaux d'impression.</P>

<H3><A NAME="8_6_1">Exporter les pilotes d'imprimantes</A></H3>

<P>Vous pouvez éventuellement exporter des pilotes d'imprimantes de votre serveur CUPS en utilisant la commande
<CODE>cupsaddsmb</CODE> et le logiciel SAMBA 2.2.0 ou supérieur.</P>

<P>Avant de pouvoir exporter les pilotes d'imprimantes, vous devez télécharger les pilotes d'imprimantes actuels Adobe PostScript
à partir du site "web" Adobe
(<A HREF="http://www.adobe.com/">http://www.adobe.com/</A>).
Utilisez le logiciel libre <CODE>unzip</CODE> pour extraire les fichiers des archives ZIP auto-extractibles contenant 
les pilotes; vous aurez besoin des fichiers suivants:</P>
<UL>
<PRE>
ADFONTS.MFM
ADOBEPS4.DRV
ADOBEPS4.HLP
ADOBEPS5.DLL
ADOBEPSU.DLL
ADOBEPSU.HLP
DEFPRTR2.PPD
ICONLIB.DLL
PSMON.DLL
</PRE>
</UL>
<P>Copiez ces fichiers dans le répertoire <VAR>/usr/share/cups/drivers</VAR> - vous pourriez avoir à renommer certains fichiers
de sorte que tous les noms soient complètement en majuscules.</P>
<P>Ensuite, ajouter un partage d'imprimante <CODE>print$</CODE> pour les pilotes d'imprimantes à votre fichier 
<VAR>smb.conf</VAR>:</P>
<UL>
<PRE>
[print$]
    comment = Pilotes d'imprimantes
    path = /etc/samba/drivers
    browseable = yes
    guest ok = no
    read only = yes
    write list = root
</PRE>
</UL>

<P>Le répertoire de vos pilotes d'imprimantes peut être n'importe où dans le système; assurez-vous simplement qu'il est
accessible en écriture aux utilisateurs indiqués par la directive <CODE>write list</CODE>.
Assurez-vous également que chaque utilisateur de la liste <CODE>write list</CODE> possède un mot de passe SAMBA en utilisant
la commande <CODE>smbpasswd(1)</CODE> sinon vous ne pourrez pas vous authentifier.</P>
<P>Enfin, exécutez la commande <CODE>cupsaddsmb</CODE> pour exporter les pilotes d'imprimantes pour une ou plusieurs 
files d'impression:</P>
<UL>
<PRE>
<KBD>cupsaddsmb -U root printer1 ... printerN <I>ENTREE</I></KBD>
</PRE>
</UL>
<P>Exécuter la commande <CODE>cupsaddsmb</CODE> avec l'option <CODE>-a</CODE> exportera les imprimantes:</P>
<UL>
<PRE>
<KBD>cupsaddsmb -U root -a <I>ENTREE</I></KBD>
</PRE>
</UL>
<H2><A NAME="8_7">Imprimer vers des serveurs d'impression Windows</A></H2>

<P>CUPS peut imprimer vers des serveurs Windows de deux façons. La première utilise le protocole LPD sur le système CUPS et
le service "Serveur d'impression TCP/IP" sur le système Windows NT. Vous pouvez trouver plus d'information au sujet de la première 
configuration dans la section précédente <A HREF="#LPD">LPD</A> de ce chapitre.</P>

<P>La seconde méthode utilise le protocole SMB de Microsoft ("Server Message Block"). La prise en charge de ce protocole est
fournie par le logiciel libre SAMBA. Vous pouvez télécharger SAMBA à l'adresse suivante:</P>
<UL>
<PRE>
<A HREF="http://www.samba.org">http://www.samba.org</A>
</PRE>
</UL>
<P>Pour configurer CUPS pour SAMBA, exécutez la commande suivante:</P>
<UL>
<PRE>
<B>ln -s `which smbspool` /usr/lib/cups/backend/smb ENTREE</B>
</PRE>
</UL>
<P>Le programme <CODE>smbspool(1)</CODE> est fourni avec SAMBA depuis la version 2.0.6. Une fois que vous avez créé le lien
vous pouvez configurer vos imprimantes en utilisant l'un des URI de périphérique suivants:</P>
<UL>
<PRE>
smb://groupe_de_travail_ou_domaine/serveur/nom_partage
smb://serveur/nom_partage
smb://utilisateur:mot_de_passe@groupe_de_travail_ou_domaine/serveur/nom_partage
smb://utilisateur:mot_de_passe@serveur/nom_partage
</PRE>
</UL>
<P>Le nom <CODE>groupe_de_travai_ou_domaine</CODE> doit être indiqué si votre système utilise un autre nom que la 
valeur standard de votre réseau. Les chaînes <CODE>utilisateur:mot_de_passe</CODE> sont nécessaires si vous imprimez
vers des serveurs Windows NT ou des partages Windows 95/98 dont les mots de passe sont activés.</P>

<H1 ALIGN="RIGHT"><A NAME="LICENSE">A - Licence d'utilisation du logiciel</A></H1>
<H2 ALIGN="CENTER"><A NAME="9_1">Common UNIX Printing System License
 Agreement</A></H2>
<P><i>(NdT : pour des raisons évidentes de droit, j'ai volontairement gardé la licence d'utilisation du logiciel et la licence GPL en anglais car une traduction
de celles-ci pourrait donner lieu à des interprétations erronées... et en plus je ne suis pas juriste !)</i></P>

<P ALIGN="CENTER">Copyright 1997-2003 by Easy Software Products
<BR> 44141 AIRPORT VIEW DR STE 204
<BR> HOLLYWOOD, MARYLAND 20636-3111 USA
<BR>
<BR> Voice: +1.301.373.9600
<BR> Email:<A HREF="mailto:cups-info@cups.org"> cups-info@cups.org</A>
<BR> WWW:<A HREF="http://www.cups.org"> http://www.cups.org</A></P>
<H3><A NAME="9_1_1">Introduction</A></H3>
<P>The Common UNIX Printing System<SUP>TM</SUP>, (&quot;CUPS<SUP>TM</SUP>&quot;),
 is provided under the GNU General Public License (&quot;GPL&quot;) and GNU
 Library General Public License (&quot;LGPL&quot;), Version 2. A copy of these
 licenses follow this introduction.</P>
<P>The GNU LGPL applies to the CUPS API library, located in the &quot;cups&quot;
 subdirectory of the CUPS source distribution and in the
 &quot;/usr/include/cups&quot; directory and &quot;libcups.a&quot;, &quot;libcups_s.a&quot;,
 &quot;libcups.sl&quot;, or &quot;libcups.so&quot; files in the binary distributions.</P>
<P>The GNU GPL applies to the remainder of the CUPS distribution,
 including the &quot;pstoraster&quot; filter which is based upon GNU Ghostscript
 5.50 and the &quot;pdftops&quot; filter which is based upon Xpdf 0.93a.</P>
<P>For those not familiar with the GNU GPL, the license basically allows
 you to:</P>
<UL>
<LI>Use the CUPS software at no charge.</LI>
<LI>Distribute verbatim copies of the software in source or binary form.</LI>
<LI>Sell verbatim copies of the software for a media fee, or sell
 support for the software.</LI>
<LI>Distribute or sell printer drivers and filters that use CUPS so long
 as source code is made available under the GPL.</LI>
</UL>
<P>What this license<B> does not</B> allow you to do is make changes or
 add features to CUPS and then sell a binary distribution without source
 code. You must provide source for any new drivers, changes, or
 additions to the software, and all code must be provided under the GPL
 or LGPL as appropriate.</P>
<P>The GNU LGPL relaxes the &quot;link-to&quot; restriction, allowing you to
 develop applications that use the CUPS API library under other licenses
 and/or conditions as appropriate for your application.</P>
<H3><A NAME="9_1_2">Trademarks</A></H3>
<P>Easy Software Products has trademarked the Common UNIX Printing
 System, CUPS, and CUPS logo. These names and logos may be used freely
 in any direct port or binary distribution of CUPS. To use them in
 derivative products, please contract Easy Software Products for written
 permission. Our intention is to protect the value of these trademarks
 and ensure that any derivative product meets the same high-quality
 standards as the original.</P>
<H3><A NAME="9_1_3">Binary Distribution Rights</A></H3>
<P>Easy Software Products also sells rights to the CUPS source code
 under a binary distribution license for vendors that are unable to
 release source code for their drivers, additions, and modifications to
 CUPS under the GNU GPL and LGPL. For information please contact us at
 the address shown above.</P>
<P>The Common UNIX Printing System provides a &quot;pstoraster&quot; filter that
 utilizes the GNU GhostScript 5.50 core to convert PostScript files into
 a stream of raster images. For binary distribution licensing of this
 software, please contact:<BLOCKQUOTE> Miles Jones
<BR> Director of Marketing
<BR> Artifex Software Inc.
<BR> 454 Las Gallinas Ave., Suite 108
<BR> San Rafael, CA 94903 USA
<BR> Voice: +1.415.492.9861
<BR> Fax: +1.415.492.9862
<BR> EMail:<A HREF="mailto:info@arsoft.com"> info@arsoft.com</A></BLOCKQUOTE>
</P>
<P>The &quot;pdftops&quot; filter is based on the Xpdf 0.93a software. For binary
 distribution licensing of this software, please contact:<BLOCKQUOTE>
 Derek B. Noonburg
<BR> Email:<A HREF="mailto:derekn@foolabs.com"> derekn@foolabs.com</A>
<BR> WWW:<A HREF="http://www.foolabs.com/xpdf/">
 http://www.foolabs.com/xpdf/</A></BLOCKQUOTE></P>
<H3><A NAME="9_1_4">Support</A></H3>
<P>Easy Software Products sells software support for CUPS as well as a
 commercial printing product based on CUPS called ESP Print Pro. You can
 find out more at our web site:</P>
<UL>
<PRE>
<A HREF="http://www.easysw.com">http://www.easysw.com</A>
</PRE>
</UL>

<!-- NEW PAGE -->
<H2><A NAME="9_2">GNU GENERAL PUBLIC LICENSE</A></H2>
<P>Version 2, June 1991</P>
<PRE>
Copyright 1989, 1991 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA 02111-1307 USA

Everyone is permitted to copy and distribute verbatim
copies of this license document, but changing it is not allowed.
</PRE>
<PRE>

</PRE>
<H4>Preamble</H4>
<P>The licenses for most software are designed to take away your freedom
 to share and change it. By contrast, the GNU General Public License is
 intended to guarantee your freedom to share and change free
 software--to make sure the software is free for all its users. This
 General Public License applies to most of the Free Software
 Foundation's software and to any other program whose authors commit to
 using it. (Some other Free Software Foundation software is covered by
 the GNU Library General Public License instead.) You can apply it to
 your programs, too.</P>
<P>When we speak of free software, we are referring to freedom, not
 price. Our General Public Licenses are designed to make sure that you
 have the freedom to distribute copies of free software (and charge for
 this service if you wish), that you receive source code or can get it
 if you want it, that you can change the software or use pieces of it in
 new free programs; and that you know you can do these things.</P>
<P>To protect your rights, we need to make restrictions that forbid
 anyone to deny you these rights or to ask you to surrender the rights.
 These restrictions translate to certain responsibilities for you if you
 distribute copies of the software, or if you modify it.</P>
<P>For example, if you distribute copies of such a program, whether
 gratis or for a fee, you must give the recipients all the rights that
 you have. You must make sure that they, too, receive or can get the
 source code. And you must show them these terms so they know their
 rights.</P>
<P>We protect your rights with two steps: (1) copyright the software,
 and (2) offer you this license which gives you legal permission to
 copy, distribute and/or modify the software.</P>
<P>Also, for each author's protection and ours, we want to make certain
 that everyone understands that there is no warranty for this free
 software. If the software is modified by someone else and passed on, we
 want its recipients to know that what they have is not the original, so
 that any problems introduced by others will not reflect on the original
 authors' reputations.</P>
<P>Finally, any free program is threatened constantly by software
 patents. We wish to avoid the danger that redistributors of a free
 program will individually obtain patent licenses, in effect making the
 program proprietary. To prevent this, we have made it clear that any
 patent must be licensed for everyone's free use or not licensed at all.</P>
<P>The precise terms and conditions for copying, distribution and
 modification follow.</P>
<H4>GNU GENERAL PUBLIC LICENSE
<BR> TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</H4>
<OL START="0">
<LI>This License applies to any program or other work which contains a
 notice placed by the copyright holder saying it may be distributed
 under the terms of this General Public License. The &quot;Program&quot;, below,
 refers to any such program or work, and a &quot;work based on the Program&quot;
 means either the Program or any derivative work under copyright law:
 that is to say, a work containing the Program or a portion of it,
 either verbatim or with modifications and/or translated into another
 language. (Hereinafter, translation is included without limitation in
 the term &quot;modification&quot;.) Each licensee is addressed as &quot;you&quot;.</LI>
<P>Activities other than copying, distribution and modification are not
 covered by this License; they are outside its scope. The act of running
 the Program is not restricted, and the output from the Program is
 covered only if its contents constitute a work based on the Program
 (independent of having been made by running the Program). Whether that
 is true depends on what the Program does.</P>
<LI>You may copy and distribute verbatim copies of the Program's source
 code as you receive it, in any medium, provided that you conspicuously
 and appropriately publish on each copy an appropriate copyright notice
 and disclaimer of warranty; keep intact all the notices that refer to
 this License and to the absence of any warranty; and give any other
 recipients of the Program a copy of this License along with the
 Program.</LI>
<P>You may charge a fee for the physical act of transferring a copy, and
 you may at your option offer warranty protection in exchange for a fee.</P>
<LI>You may modify your copy or copies of the Program or any portion of
 it, thus forming a work based on the Program, and copy and distribute
 such modifications or work under the terms of Section 1 above, provided
 that you also meet all of these conditions:
<OL TYPE="a">
<LI>You must cause the modified files to carry prominent notices stating
 that you changed the files and the date of any change.</LI>
<LI>You must cause any work that you distribute or publish, that in
 whole or in part contains or is derived from the Program or any part
 thereof, to be licensed as a whole at no charge to all third parties
 under the terms of this License.</LI>
<LI>if the modified program normally reads commands interactively when
 run, you must cause it, when started running for such interactive use
 in the most ordinary way, to print or display an announcement including
 an appropriate copyright notice and a notice that there is no warranty
 (or else, saying that you provide a warranty) and that users may
 redistribute the program under these conditions, and telling the user
 how to view a copy of this License. (Exception: if the Program itself
 is interactive but does not normally print such an announcement, your
 work based on the Program is not required to print an announcement.)</LI>
</OL>
</LI>
<P>These requirements apply to the modified work as a whole. If
 identifiable sections of that work are not derived from the Program,
 and can be reasonably considered independent and separate works in
 themselves, then this License, and its terms, do not apply to those
 sections when you distribute them as separate works. But when you
 distribute the same sections as part of a whole which is a work based
 on the Program, the distribution of the whole must be on the terms of
 this License, whose permissions for other licensees extend to the
 entire whole, and thus to each and every part regardless of who wrote
 it.</P>
<P>Thus, it is not the intent of this section to claim rights or contest
 your rights to work written entirely by you; rather, the intent is to
 exercise the right to control the distribution of derivative or
 collective works based on the Program.</P>
<P>In addition, mere aggregation of another work not based on the
 Program with the Program (or with a work based on the Program) on a
 volume of a storage or distribution medium does not bring the other
 work under the scope of this License.</P>
<LI>You may copy and distribute the Program (or a work based on it,
 under Section 2) in object code or executable form under the terms of
 Sections 1 and 2 above provided that you also do one of the following:
<OL TYPE="a">
<LI>Accompany it with the complete corresponding machine-readable source
 code, which must be distributed under the terms of Sections 1 and 2
 above on a medium customarily used for software interchange; or,</LI>
<LI>Accompany it with a written offer, valid for at least three years,
 to give any third party, for a charge no more than your cost of
 physically performing source distribution, a complete machine-readable
 copy of the corresponding source code, to be distributed under the
 terms of Sections 1 and 2 above on a medium customarily used for
 software interchange; or,</LI>
<LI>Accompany it with the information you received as to the offer to
 distribute corresponding source code. (This alternative is allowed only
 for noncommercial distribution and only if you received the program in
 object code or executable form with such an offer, in accord with
 Subsection b above.)</LI>
</OL>
</LI>
<P>The source code for a work means the preferred form of the work for
 making modifications to it. For an executable work, complete source
 code means all the source code for all modules it contains, plus any
 associated interface definition files, plus the scripts used to control
 compilation and installation of the executable. However, as a special
 exception, the source code distributed need not include anything that
 is normally distributed (in either source or binary form) with the
 major components (compiler, kernel, and so on) of the operating system
 on which the executable runs, unless that component itself accompanies
 the executable.</P>
<P>If distribution of executable or object code is made by offering
 access to copy from a designated place, then offering equivalent access
 to copy the source code from the same place counts as distribution of
 the source code, even though third parties are not compelled to copy
 the source along with the object code.</P>
<LI>You may not copy, modify, sublicense, or distribute the Program
 except as expressly provided under this License. Any attempt otherwise
 to copy, modify, sublicense or distribute the Program is void, and will
 automatically terminate your rights under this License. However,
 parties who have received copies, or rights, from you under this
 License will not have their licenses terminated so long as such parties
 remain in full compliance.</LI>
<LI>You are not required to accept this License, since you have not
 signed it. However, nothing else grants you permission to modify or
 distribute the Program or its derivative works. These actions are
 prohibited by law if you do not accept this License. Therefore, by
 modifying or distributing the Program (or any work based on the
 Program), you indicate your acceptance of this License to do so, and
 all its terms and conditions for copying, distributing or modifying the
 Program or works based on it.</LI>
<LI>Each time you redistribute the Program (or any work based on the
 Program), the recipient automatically receives a license from the
 original licensor to copy, distribute or modify the Program subject to
 these terms and conditions. You may not impose any further restrictions
 on the recipients' exercise of the rights granted herein. You are not
 responsible for enforcing compliance by third parties to this License.</LI>
<LI>If, as a consequence of a court judgment or allegation of patent
 infringement or for any other reason (not limited to patent issues),
 conditions are imposed on you (whether by court order, agreement or
 otherwise) that contradict the conditions of this License, they do not
 excuse you from the conditions of this License. If you cannot
 distribute so as to satisfy simultaneously your obligations under this
 License and any other pertinent obligations, then as a consequence you
 may not distribute the Program at all. For example, if a patent license
 would not permit royalty-free redistribution of the Program by all
 those who receive copies directly or indirectly through you, then the
 only way you could satisfy both it and this License would be to refrain
 entirely from distribution of the Program.</LI>
<P>If any portion of this section is held invalid or unenforceable under
 any particular circumstance, the balance of the section is intended to
 apply and the section as a whole is intended to apply in other
 circumstances.</P>
<P>It is not the purpose of this section to induce you to infringe any
 patents or other property right claims or to contest validity of any
 such claims; this section has the sole purpose of protecting the
 integrity of the free software distribution system, which is
 implemented by public license practices. Many people have made generous
 contributions to the wide range of software distributed through that
 system in reliance on consistent application of that system; it is up
 to the author/donor to decide if he or she is willing to distribute
 software through any other system and a licensee cannot impose that
 choice.</P>
<P>This section is intended to make thoroughly clear what is believed to
 be a consequence of the rest of this License.</P>
<LI>If the distribution and/or use of the Program is restricted in
 certain countries either by patents or by copyrighted interfaces, the
 original copyright holder who places the Program under this License may
 add an explicit geographical distribution limitation excluding those
 countries, so that distribution is permitted only in or among countries
 not thus excluded. In such case, this License incorporates the
 limitation as if written in the body of this License.</LI>
<LI>The Free Software Foundation may publish revised and/or new versions
 of the General Public License from time to time. Such new versions will
 be similar in spirit to the present version, but may differ in detail
 to address new problems or concerns.</LI>
<P>Each version is given a distinguishing version number. If the Program
 specifies a version number of this License which applies to it and &quot;any
 later version&quot;, you have the option of following the terms and
 conditions either of that version or of any later version published by
 the Free Software Foundation. If the Program does not specify a version
 number of this License, you may choose any version ever published by
 the Free Software Foundation.</P>
<LI>If you wish to incorporate parts of the Program into other free
 programs whose distribution conditions are different, write to the
 author to ask for permission. For software which is copyrighted by the
 Free Software Foundation, write to the Free Software Foundation; we
 sometimes make exceptions for this. Our decision will be guided by the
 two goals of preserving the free status of all derivatives of our free
 software and of promoting the sharing and reuse of software generally.</LI>
</OL>
<H4>NO WARRANTY</H4>
<OL START="11">
<LI>BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
 FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN
 OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
 PROVIDE THE PROGRAM &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, EITHER
 EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE
 ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH
 YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
 NECESSARY SERVICING, REPAIR OR CORRECTION.</LI>
<LI>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
 WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
 AND/OR REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU
 FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
 CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
 PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
 RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
 FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF
 SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
 DAMAGES.</LI>
</OL>
<H4>END OF TERMS AND CONDITIONS</H4>

<!-- NEW PAGE -->
<H2><A NAME="9_3">GNU LIBRARY GENERAL PUBLIC LICENSE</A></H2>
<P>Version 2, June 1991</P>
<PRE>
Copyright (C) 1991 Free Software Foundation, Inc.
59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.

[This is the first released version of the library GPL.  It is
 numbered 2 because it goes with version 2 of the ordinary GPL.]
</PRE>
<H4>Preamble</H4>
<P>The licenses for most software are designed to take away your freedom
 to share and change it. By contrast, the GNU General Public Licenses
 are intended to guarantee your freedom to share and change free
 software--to make sure the software is free for all its users.</P>
<P>This license, the Library General Public License, applies to some
 specially designated Free Software Foundation software, and to any
 other libraries whose authors decide to use it. You can use it for your
 libraries, too.</P>
<P>When we speak of free software, we are referring to freedom, not
 price. Our General Public Licenses are designed to make sure that you
 have the freedom to distribute copies of free software (and charge for
 this service if you wish), that you receive source code or can get it
 if you want it, that you can change the software or use pieces of it in
 new free programs; and that you know you can do these things.</P>
<P>To protect your rights, we need to make restrictions that forbid
 anyone to deny you these rights or to ask you to surrender the rights.
 These restrictions translate to certain responsibilities for you if you
 distribute copies of the library, or if you modify it.</P>
<P>For example, if you distribute copies of the library, whether gratis
 or for a fee, you must give the recipients all the rights that we gave
 you. You must make sure that they, too, receive or can get the source
 code. If you link a program with the library, you must provide complete
 object files to the recipients so that they can relink them with the
 library, after making changes to the library and recompiling it. And
 you must show them these terms so they know their rights.</P>
<P>Our method of protecting your rights has two steps: (1) copyright the
 library, and (2) offer you this license which gives you legal
 permission to copy, distribute and/or modify the library.</P>
<P>Also, for each distributor's protection, we want to make certain that
 everyone understands that there is no warranty for this free library.
 If the library is modified by someone else and passed on, we want its
 recipients to know that what they have is not the original version, so
 that any problems introduced by others will not reflect on the original
 authors' reputations.</P>
<P>Finally, any free program is threatened constantly by software
 patents. We wish to avoid the danger that companies distributing free
 software will individually obtain patent licenses, thus in effect
 transforming the program into proprietary software. To prevent this, we
 have made it clear that any patent must be licensed for everyone's free
 use or not licensed at all.</P>
<P>Most GNU software, including some libraries, is covered by the
 ordinary GNU General Public License, which was designed for utility
 programs. This license, the GNU Library General Public License, applies
 to certain designated libraries. This license is quite different from
 the ordinary one; be sure to read it in full, and don't assume that
 anything in it is the same as in the ordinary license.</P>
<P>The reason we have a separate public license for some libraries is
 that they blur the distinction we usually make between modifying or
 adding to a program and simply using it. Linking a program with a
 library, without changing the library, is in some sense simply using
 the library, and is analogous to running a utility program or
 application program. However, in a textual and legal sense, the linked
 executable is a combined work, a derivative of the original library,
 and the ordinary General Public License treats it as such.</P>
<P>Because of this blurred distinction, using the ordinary General
 Public License for libraries did not effectively promote software
 sharing, because most developers did not use the libraries. We
 concluded that weaker conditions might promote sharing better.</P>
<P>However, unrestricted linking of non-free programs would deprive the
 users of those programs of all benefit from the free status of the
 libraries themselves. This Library General Public License is intended
 to permit developers of non-free programs to use free libraries, while
 preserving your freedom as a user of such programs to change the free
 libraries that are incorporated in them. (We have not seen how to
 achieve this as regards changes in header files, but we have achieved
 it as regards changes in the actual functions of the Library.) The hope
 is that this will lead to faster development of free libraries.</P>
<P>The precise terms and conditions for copying, distribution and
 modification follow. Pay close attention to the difference between a
 &quot;work based on the library&quot; and a &quot;work that uses the library&quot;. The
 former contains code derived from the library, while the latter only
 works together with the library.</P>
<P>Note that it is possible for a library to be covered by the ordinary
 General Public License rather than by this special one.</P>
<H4>TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</H4>
<P><STRONG>0.</STRONG> This License Agreement applies to any software
 library which contains a notice placed by the copyright holder or other
 authorized party saying it may be distributed under the terms of this
 Library General Public License (also called &quot;this License&quot;). Each
 licensee is addressed as &quot;you&quot;.</P>
<P>A &quot;library&quot; means a collection of software functions and/or data
 prepared so as to be conveniently linked with application programs
 (which use some of those functions and data) to form executables.</P>
<P>The &quot;Library&quot;, below, refers to any such software library or work
 which has been distributed under these terms. A &quot;work based on the
 Library&quot; means either the Library or any derivative work under
 copyright law: that is to say, a work containing the Library or a
 portion of it, either verbatim or with modifications and/or translated
 straightforwardly into another language. (Hereinafter, translation is
 included without limitation in the term &quot;modification&quot;.)</P>
<P>&quot;Source code&quot; for a work means the preferred form of the work for
 making modifications to it. For a library, complete source code means
 all the source code for all modules it contains, plus any associated
 interface definition files, plus the scripts used to control
 compilation and installation of the library.</P>
<P>Activities other than copying, distribution and modification are not
 covered by this License; they are outside its scope. The act of running
 a program using the Library is not restricted, and output from such a
 program is covered only if its contents constitute a work based on the
 Library (independent of the use of the Library in a tool for writing
 it). Whether that is true depends on what the Library does and what the
 program that uses the Library does.</P>
<P><STRONG>1.</STRONG> You may copy and distribute verbatim copies of
 the Library's complete source code as you receive it, in any medium,
 provided that you conspicuously and appropriately publish on each copy
 an appropriate copyright notice and disclaimer of warranty; keep intact
 all the notices that refer to this License and to the absence of any
 warranty; and distribute a copy of this License along with the Library.</P>
<P>You may charge a fee for the physical act of transferring a copy, and
 you may at your option offer warranty protection in exchange for a fee.</P>
<P><STRONG>2.</STRONG> You may modify your copy or copies of the Library
 or any portion of it, thus forming a work based on the Library, and
 copy and distribute such modifications or work under the terms of
 Section 1 above, provided that you also meet all of these conditions:</P>
<OL TYPE="a">
<LI>The modified work must itself be a software library.</LI>
<P></P>
<LI>You must cause the files modified to carry prominent notices stating
 that you changed the files and the date of any change.</LI>
<P></P>
<LI>You must cause the whole of the work to be licensed at no charge to
 all third parties under the terms of this License.</LI>
<P></P>
<LI>If a facility in the modified Library refers to a function or a
 table of data to be supplied by an application program that uses the
 facility, other than as an argument passed when the facility is
 invoked, then you must make a good faith effort to ensure that, in the
 event an application does not supply such function or table, the
 facility still operates, and performs whatever part of its purpose
 remains meaningful.</LI>
<P>(For example, a function in a library to compute square roots has a
 purpose that is entirely well-defined independent of the application.
 Therefore, Subsection 2d requires that any application-supplied
 function or table used by this function must be optional: if the
 application does not supply it, the square root function must still
 compute square roots.)</P>
</OL>
<P>These requirements apply to the modified work as a whole. If
 identifiable sections of that work are not derived from the Library,
 and can be reasonably considered independent and separate works in
 themselves, then this License, and its terms, do not apply to those
 sections when you distribute them as separate works. But when you
 distribute the same sections as part of a whole which is a work based
 on the Library, the distribution of the whole must be on the terms of
 this License, whose permissions for other licensees extend to the
 entire whole, and thus to each and every part regardless of who wrote
 it.</P>
<P>Thus, it is not the intent of this section to claim rights or contest
 your rights to work written entirely by you; rather, the intent is to
 exercise the right to control the distribution of derivative or
 collective works based on the Library.</P>
<P>In addition, mere aggregation of another work not based on the
 Library with the Library (or with a work based on the Library) on a
 volume of a storage or distribution medium does not bring the other
 work under the scope of this License.</P>
<P><STRONG>3.</STRONG> You may opt to apply the terms of the ordinary
 GNU General Public License instead of this License to a given copy of
 the Library. To do this, you must alter all the notices that refer to
 this License, so that they refer to the ordinary GNU General Public
 License, version 2, instead of to this License. (If a newer version
 than version 2 of the ordinary GNU General Public License has appeared,
 then you can specify that version instead if you wish.) Do not make any
 other change in these notices.</P>
<P>Once this change is made in a given copy, it is irreversible for that
 copy, so the ordinary GNU General Public License applies to all
 subsequent copies and derivative works made from that copy.</P>
<P>This option is useful when you wish to copy part of the code of the
 Library into a program that is not a library.</P>
<P><STRONG>4.</STRONG> You may copy and distribute the Library (or a
 portion or derivative of it, under Section 2) in object code or
 executable form under the terms of Sections 1 and 2 above provided that
 you accompany it with the complete corresponding machine-readable
 source code, which must be distributed under the terms of Sections 1
 and 2 above on a medium customarily used for software interchange.</P>
<P>If distribution of object code is made by offering access to copy
 from a designated place, then offering equivalent access to copy the
 source code from the same place satisfies the requirement to distribute
 the source code, even though third parties are not compelled to copy
 the source along with the object code.</P>
<P><STRONG>5.</STRONG> A program that contains no derivative of any
 portion of the Library, but is designed to work with the Library by
 being compiled or linked with it, is called a &quot;work that uses the
 Library&quot;. Such a work, in isolation, is not a derivative work of the
 Library, and therefore falls outside the scope of this License.</P>
<P>However, linking a &quot;work that uses the Library&quot; with the Library
 creates an executable that is a derivative of the Library (because it
 contains portions of the Library), rather than a &quot;work that uses the
 library&quot;. The executable is therefore covered by this License. Section
 6 states terms for distribution of such executables.</P>
<P>When a &quot;work that uses the Library&quot; uses material from a header file
 that is part of the Library, the object code for the work may be a
 derivative work of the Library even though the source code is not.
 Whether this is true is especially significant if the work can be
 linked without the Library, or if the work is itself a library. The
 threshold for this to be true is not precisely defined by law.</P>
<P>If such an object file uses only numerical parameters, data structure
 layouts and accessors, and small macros and small inline functions (ten
 lines or less in length), then the use of the object file is
 unrestricted, regardless of whether it is legally a derivative work.
 (Executables containing this object code plus portions of the Library
 will still fall under Section 6.)</P>
<P>Otherwise, if the work is a derivative of the Library, you may
 distribute the object code for the work under the terms of Section 6.
 Any executables containing that work also fall under Section 6, whether
 or not they are linked directly with the Library itself.</P>
<P><STRONG>6.</STRONG> As an exception to the Sections above, you may
 also compile or link a &quot;work that uses the Library&quot; with the Library to
 produce a work containing portions of the Library, and distribute that
 work under terms of your choice, provided that the terms permit
 modification of the work for the customer's own use and reverse
 engineering for debugging such modifications.</P>
<P>You must give prominent notice with each copy of the work that the
 Library is used in it and that the Library and its use are covered by
 this License. You must supply a copy of this License. If the work
 during execution displays copyright notices, you must include the
 copyright notice for the Library among them, as well as a reference
 directing the user to the copy of this License. Also, you must do one
 of these things:</P>
<OL TYPE="a">
<LI>Accompany the work with the complete corresponding machine-readable
 source code for the Library including whatever changes were used in the
 work (which must be distributed under Sections 1 and 2 above); and, if
 the work is an executable linked with the Library, with the complete
 machine-readable &quot;work that uses the Library&quot;, as object code and/or
 source code, so that the user can modify the Library and then relink to
 produce a modified executable containing the modified Library. (It is
 understood that the user who changes the contents of definitions files
 in the Library will not necessarily be able to recompile the
 application to use the modified definitions.)</LI>
<P></P>
<LI>Accompany the work with a written offer, valid for at least three
 years, to give the same user the materials specified in Subsection 6a,
 above, for a charge no more than the cost of performing this
 distribution.</LI>
<P></P>
<LI>If distribution of the work is made by offering access to copy from
 a designated place, offer equivalent access to copy the above specified
 materials from the same place.</LI>
<P></P>
<LI>Verify that the user has already received a copy of these materials
 or that you have already sent this user a copy.</LI>
</OL>
<P>For an executable, the required form of the &quot;work that uses the
 Library&quot; must include any data and utility programs needed for
 reproducing the executable from it. However, as a special exception,
 the source code distributed need not include anything that is normally
 distributed (in either source or binary form) with the major components
 (compiler, kernel, and so on) of the operating system on which the
 executable runs, unless that component itself accompanies the
 executable.</P>
<P>It may happen that this requirement contradicts the license
 restrictions of other proprietary libraries that do not normally
 accompany the operating system. Such a contradiction means you cannot
 use both them and the Library together in an executable that you
 distribute.</P>
<P><STRONG>7.</STRONG> You may place library facilities that are a work
 based on the Library side-by-side in a single library together with
 other library facilities not covered by this License, and distribute
 such a combined library, provided that the separate distribution of the
 work based on the Library and of the other library facilities is
 otherwise permitted, and provided that you do these two things:</P>
<OL TYPE="a">
<LI>Accompany the combined library with a copy of the same work based on
 the Library, uncombined with any other library facilities. This must be
 distributed under the terms of the Sections above.</LI>
<P></P>
<LI>Give prominent notice with the combined library of the fact that
 part of it is a work based on the Library, and explaining where to find
 the accompanying uncombined form of the same work.</LI>
</OL>
<P><STRONG>8.</STRONG> You may not copy, modify, sublicense, link with,
 or distribute the Library except as expressly provided under this
 License. Any attempt otherwise to copy, modify, sublicense, link with,
 or distribute the Library is void, and will automatically terminate
 your rights under this License. However, parties who have received
 copies, or rights, from you under this License will not have their
 licenses terminated so long as such parties remain in full compliance.</P>
<P><STRONG>9.</STRONG> You are not required to accept this License,
 since you have not signed it. However, nothing else grants you
 permission to modify or distribute the Library or its derivative works.
 These actions are prohibited by law if you do not accept this License.
 Therefore, by modifying or distributing the Library (or any work based
 on the Library), you indicate your acceptance of this License to do so,
 and all its terms and conditions for copying, distributing or modifying
 the Library or works based on it.</P>
<P><STRONG>10.</STRONG> Each time you redistribute the Library (or any
 work based on the Library), the recipient automatically receives a
 license from the original licensor to copy, distribute, link with or
 modify the Library subject to these terms and conditions. You may not
 impose any further restrictions on the recipients' exercise of the
 rights granted herein. You are not responsible for enforcing compliance
 by third parties to this License.</P>
<P><STRONG>11.</STRONG> If, as a consequence of a court judgment or
 allegation of patent infringement or for any other reason (not limited
 to patent issues), conditions are imposed on you (whether by court
 order, agreement or otherwise) that contradict the conditions of this
 License, they do not excuse you from the conditions of this License. If
 you cannot distribute so as to satisfy simultaneously your obligations
 under this License and any other pertinent obligations, then as a
 consequence you may not distribute the Library at all. For example, if
 a patent license would not permit royalty-free redistribution of the
 Library by all those who receive copies directly or indirectly through
 you, then the only way you could satisfy both it and this License would
 be to refrain entirely from distribution of the Library.</P>
<P>If any portion of this section is held invalid or unenforceable under
 any particular circumstance, the balance of the section is intended to
 apply, and the section as a whole is intended to apply in other
 circumstances.</P>
<P>It is not the purpose of this section to induce you to infringe any
 patents or other property right claims or to contest validity of any
 such claims; this section has the sole purpose of protecting the
 integrity of the free software distribution system which is implemented
 by public license practices. Many people have made generous
 contributions to the wide range of software distributed through that
 system in reliance on consistent application of that system; it is up
 to the author/donor to decide if he or she is willing to distribute
 software through any other system and a licensee cannot impose that
 choice.</P>
<P>This section is intended to make thoroughly clear what is believed to
 be a consequence of the rest of this License.</P>
<P><STRONG>12.</STRONG> If the distribution and/or use of the Library is
 restricted in certain countries either by patents or by copyrighted
 interfaces, the original copyright holder who places the Library under
 this License may add an explicit geographical distribution limitation
 excluding those countries, so that distribution is permitted only in or
 among countries not thus excluded. In such case, this License
 incorporates the limitation as if written in the body of this License.</P>
<P><STRONG>13.</STRONG> The Free Software Foundation may publish revised
 and/or new versions of the Library General Public License from time to
 time. Such new versions will be similar in spirit to the present
 version, but may differ in detail to address new problems or concerns.</P>
<P>Each version is given a distinguishing version number. If the Library
 specifies a version number of this License which applies to it and &quot;any
 later version&quot;, you have the option of following the terms and
 conditions either of that version or of any later version published by
 the Free Software Foundation. If the Library does not specify a license
 version number, you may choose any version ever published by the Free
 Software Foundation.</P>
<P><STRONG>14.</STRONG> If you wish to incorporate parts of the Library
 into other free programs whose distribution conditions are incompatible
 with these, write to the author to ask for permission. For software
 which is copyrighted by the Free Software Foundation, write to the Free
 Software Foundation; we sometimes make exceptions for this. Our
 decision will be guided by the two goals of preserving the free status
 of all derivatives of our free software and of promoting the sharing
 and reuse of software generally.</P>
<P><STRONG>NO WARRANTY</STRONG></P>
<P><STRONG>15.</STRONG> BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE,
 THERE IS NO WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY
 APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
 HOLDERS AND/OR OTHER PARTIES PROVIDE THE LIBRARY &quot;AS IS&quot; WITHOUT
 WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE
 OF THE LIBRARY IS WITH YOU. SHOULD THE LIBRARY PROVE DEFECTIVE, YOU
 ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.</P>
<P><STRONG>16.</STRONG> IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
 AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO
 MAY MODIFY AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE
 LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL
 OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
 LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
 RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
 FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
 SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
 DAMAGES.</P>
<H4>END OF TERMS AND CONDITIONS</H4>
<H1 ALIGN="RIGHT"><A NAME="COMMON_NETWORK">B - Réglages réseau courants</A></H1>

<P>Cette annexe englobe de nombreux serveurs d'impression et interfaces réseau TCP/IP disponibles actuellement sur le marché.</P>

<H2><A NAME="10_1">Configurer une interface réseau</A></H2>

<P>Lorsque vous installez votre imprimante réseau ou votre serveur d'impression pour la première fois sur votre réseau
local (LAN), vous devez configurer son adresse IP ("Internet Protocol"). Sur la plupart des imprimantes réseau pour groupe
de travail, vous pouvez le faire directement au moyen du panneau de contrôle. Cependant, dans la plupart des cas, vous
préfèrerez assigner l'adresse IP à distance depuis votre station de travail. Cela rend l'administration un peu plus simple et
évite d'assigner accidentellement des adresses réseau eu doublons.</P>

<P>Pour configurer votre imprimante ou votre serveur d'impression pour une assignation à distance de l'adresse réseau, vous
aurez besoin de son adresse MAC (ethernet Media Access Control), également appelée adresse de noeud ("node address") dans
certains cas. Vous aurez également besoin de connaître l'adresse IP que vous voulez utiliser pour ce matériel. L'adresse MAC
peut souvent être trouvée sur la page de test de l'imprimante ou sur son panneau arrière.
<!-- NEED 3in -->
</P>
<H3><A NAME="10_1_1">Configuration de l'adresse IP utilisant ARP</A></H3>

<P>La méthode la plus simple pour installer l'adresse IP d'un matériel réseau est d'utiliser la commande 
<CODE>arp(8)</CODE>. La commande <CODE>arp</CODE> envoie un paquet ARP ("Address Resolution Protocol") à l'adresse MAC indiquée
tout en lui indiquant son adresse IP:</P>
<UL>
<PRE>
<B>arp -s adresse-ip adresse-mac ENTREE</B>
<B>arp -s hote.domaine.com 08:00:69:00:12:34 ENTREE</B>
<B>arp -s 192.0.2.2 08:00:69:00:12:34 ENTREE</B>
</PRE>
</UL>
<H3><A NAME="10_1_2">Configuration de l'adresse IP utilisant RARP</A></H3>

<P>La manière la plus souple d'assigner une adresse IP sous UNIX est d'utiliser le protocole RARP
("Reverse Address Resolution Protocol"). RARP permet à un matériel réseau d'émettre une requête d'adresse IP en utilisant
sont adresse MAC, un ou plusieurs serveurs RARP sur le réseau répondront à cette requête par un paquet ARP proposant une
adresse IP que le matériel réseau peut utiliser.</P>

<P>RARP devrait être utilisé lorsque vous administrez de nombreuses imprimantes ou serveurs d'impression, ou quand un matériel
réseau ne peut se "souvenir" de son adresse IP après chaque redémarrage. Si vous n'avez qu'une seule imprimante ou serveur
d'impression, la commande <CODE>arp</CODE> est la plus adaptée.</P>

<P>Certains systèmes d'exploitation UNIX utilisent un programme nommé <CODE>rarpd(8)</CODE> pour administrer RARP.
Les autres, tels que GNU/Linux, prennent en charge ce protocole à l'intérieur du noyau. Pour les systèmes qui utilisent
le programme <CODE>rarpd</CODE> vous aurez besoin de le démarrer avant que les requêtes RARP commencent:</P>
<UL>
<PRE>
<B>rarpd ENTREE</B>
</PRE>
</UL>
<P>Sous IRIX vous pouvez activer cette fonctionnalité en standard en utilisant la commande suivante:</P>
<UL>
<PRE>
<B>chkconfig rarpd on ENTREE</B>
</PRE>
</UL>
<P>Le programme <CODE>rarpd</CODE> et la version noyau de la prise en charge RARP lisent toutes les deux une liste des adresses
MAC et IP à partir d'un fichier <VAR>/etc/ethers</VAR>. Chaque ligne comporte l'adresse Ethernet suivie de l'adresse IP ou
du nom d'hôte:</P>
<UL>
<PRE>
08:00:69:00:12:34 mon_imprimante.mon_domaine.com
08:00:69:00:12:34 192.0.2.2
</PRE>
</UL>
<P>Ajoutez une ligne à ce fichier et redémarrez l'imprimante ou le serveur d'impression pour qu'elle/il récupère son adresse IP.
<!-- NEED 2in -->
</P>
<H3><A NAME="10_1_3">Configuration de l'adresse IP utilisant BOOTP</A></H3>

<P>Le protocole BOOTP est utilisé quand vous avez besoin de fournir des informations supplémentaires à l'interface réseau 
telles que l'emplacement du fichier de configuration. En utilisant le programme standard <CODE>bootpd(8)</CODE> 
fourni sous UNIX, vous avez simplement besoin d'ajouter la ligne suivante au fichier <VAR>/etc/bootptab</VAR> pour IRIX:</P>
<UL>
<PRE>
mon_imprimante 08:00:69:00:12:34 192.0.2.2 <VAR>mon_imprimante.boot</VAR>
</PRE>
</UL>

<!-- NEED 1in -->
<P>Les versions plus récentes de <CODE>bootpd</CODE> utilisent un format différent:</P>
<UL>
<PRE>
mon_imprimante:ha=080069001234:ip=192.0.2.2:<VAR>t144=mon_imprimante.boot</VAR>
</PRE>
</UL>
<P>Le fichier <VAR>mon_imprimante.boot</VAR> est situé en standard dans le répertoire <VAR>/usr/local/boot</VAR>
Si vous n'avez pas besoin de fournir un fichier de démarrage, vous pouvez laisser vide la fin de la ligne.
<!-- NEED 2in -->

<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Certaines versions d'UNIX n'activent pas le service BOOTP en standard. Le fichier 
<VAR>/etc/inetd.conf</VAR> contient généralement une ligne pour le service BOOTP. ELle peut être décommentée si nécessaire.</P>
</TD></TR>
</TABLE>
</CENTER>
</P>
<H2><A NAME="10_2">Vérifier la connexion de l'imprimante</A></H2>

<P>Pour vérifier que l'adresse IP a bien été assignée et que l'imprimante est correctement connectée au réseau local (LAN), tapez:</P>
<UL>
<PRE>
<B>ping adresse-ip ENTREE</B>
</PRE>
</UL>
<P>Si la connexion fonctionne correctement vous devriez voir apparaître quelque chose de la forme suivante :</P>
<UL>
<PRE>
<B>ping mon_imprimante ENTREE</B>
PING mon_imprimante (192.0.2.2): 56 data bytes
64 bytes from 192.0.2.2: icmp_seq=0 ttl=15 time=5 ms
64 bytes from 192.0.2.2: icmp_seq=1 ttl=15 time=3 ms
64 bytes from 192.0.2.2: icmp_seq=2 ttl=15 time=3 ms
64 bytes from 192.0.2.2: icmp_seq=3 ttl=15 time=3 ms
</PRE>
</UL>
<P>Sinon, vérifiez que que l'imprimante ou le serveur d'impression est bien connecté au réseau (NdT : vérifiez ces @#*¤%§ câbles !),
qu'elle est sous tension et que l'adresse IP est bonne. Vous pouvez également voir la configuration réseau en imprimant une
page de test à partir du panneau de contrôle du matériel.
<!-- NEED 4in -->
</P>
<H2><A NAME="10_3">Réglages d'interfaces réseau et serveur d'impression courants</A></H2>

<P>Une fois que vous avez configuré l'adresse IP, vous pouvez accéder à l'imprimante ou au serveur d'impression
en utilisant les programmes d'arrière-plan <CODE>ipp</CODE>, <CODE>lpd</CODE>, ou <CODE>socket</CODE>.
La liste qui suit donne les interfaces réseau et serveurs d'impression courants ainsi que les réglages que vous devriez
utiliser dans CUPS:
<CENTER>
<TABLE BORDER="1">
<TR ALIGN="LEFT" VALIGN="TOP"><TH>Modèle / Fabricant</TH><TH>URI de périphérique</TH></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Apple LaserWriter</TD><TD>lpd://<I>
address</I>/PASSTHRU</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Axis w/o IPP
<BR><A HREF="#AXIS"> (voir instructions)</A></TD><TD>socket://<I>address</I>
:9100
<BR> socket://<I>address</I>:9101
<BR> socket://<I>address</I>:9102</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Axis w/IPP</TD><TD>ipp://<I>address</I>
/LPT1
<BR> ipp://<I>address</I>/LPT2
<BR> ipp://<I>address</I>/COM1</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Castelle LANpress<SUP>TM</SUP></TD><TD>
lpd://<I>address</I>/pr1
<BR> lpd://<I>address</I>/pr2
<BR> lpd://<I>address</I>/pr3</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>DPI NETPrint</TD><TD>lpd://<I>address</I>
/pr1
<BR> lpd://<I>address</I>/pr2
<BR> lpd://<I>address</I>/pr3</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>EFI&reg; Fiery&reg; RIP</TD><TD>lpd://<I>
address</I>/print</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>EPSON&reg; Multiprotocol Ethernet
 Interface Board</TD><TD>socket://<I>address</I></TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Extended System ExtendNET</TD><TD>
lpd://<I>address</I>/pr1
<BR> lpd://<I>address</I>/pr2
<BR> lpd://<I>address</I>/pr3</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Hewlett Packard JetDirect w/o IPP</TD><TD>
socket://<I>address</I>:9100
<BR> socket://<I>address</I>:9101
<BR> socket://<I>address</I>:9102</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Hewlett Packard JetDirect w/IPP</TD><TD>
ipp://<I>address</I>/ipp
<BR> ipp://<I>address</I>/ipp/port1
<BR> ipp://<I>address</I>/ipp/port2
<BR> ipp://<I>address</I>/ipp/port3</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Intel&reg; NetportExpress XL, PRO/100</TD><TD>
lpd://<I>address</I>/LPT1_PASSTHRU
<BR> lpd://<I>address</I>/LPT2_PASSTHRU
<BR> lpd://<I>address</I>/COM1_PASSTHRU</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Lexmark<SUP>TM</SUP> MarkNet</TD><TD>
lpd://<I>address</I>/ps</TD></TR>

<!-- NEED 1in -->
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Linksys EtherFast&reg;
<BR><A HREF="#LINKSYS"> (voir instructions)</A></TD><TD>socket://<I>address</I>
:4010
<BR> socket://<I>address</I>:4020
<BR> socket://<I>address</I>:4030</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Kodak&reg;</TD><TD>lpd://<I>address</I>/ps</TD>
</TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>QMS&reg; CrownNet<SUP>TM</SUP></TD><TD>
lpd://<I>address</I>/ps</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>Tektronix&reg; PhaserShare<SUP>TM</SUP></TD><TD>
socket://<I>address</I>:9100</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>XEROX&reg; 4512 NIC</TD><TD>lpd://<I>
address</I>/PORT1</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>XEROX&reg; XNIC</TD><TD>lpd://<I>address</I>
/PASSTHRU</TD></TR>
<TR ALIGN="LEFT" VALIGN="TOP"><TD>XEROX&reg; (most others)</TD><TD>socket://<I>
address</I>:5503</TD></TR>
</TABLE>
</CENTER>
</P>
<H2><A NAME="AXIS">Configuration de serveurs d'impression Axis</A></H2>

<P>Les serveurs d'impression Axis peuvent être configurés en utilisant ARP, RARP ou BOOTP. Cependant, sur certains modèles
ne prenant pas en charge IPP, une configuration supplémentaire est nécessaire pour permettre au serveur de dialoguer avec CUPS.
<!-- NEED 3in -->
</P>
<P>Chaque serveur d'impression possède une fichier de configuration nommé <VAR>config</VAR>
qui contient la liste des paramètres réseau à utiliser par le serveur. Pour modifier ce fichier, vous devez d'abord le
télécharger à partir du serveur d'impression en utilisant le programme <CODE>ftp(1)</CODE>:</P>
<UL>
<PRE>
<B>ftp adresse-ip ENTREE</B>
Connected to ip-address.
220 Axis NPS ### FTP Printer Server V#.## MON DD YEAR ready.
ftp&gt; <B>user root ENTREE</B>
331 User name ok, need password
Password: <B>pass ENTREE</B> <I>(le mot de passe n'apparaît pas)</I>
230 User logged in
ftp&gt; <B>get config ENTREE</B>
local: config remote: config
200 PORT command successful.
150 Opening data connection for config (192,0,2,2),
(mode ascii).
226 Transfer complete.
##### bytes received in #.## seconds (##### Kbytes/s)
ftp&gt; <B>quit ENTREE</B>
221 Goodbye.
</PRE>
</UL>

<!-- NEED 2in -->
<P>Ensuite, éditez son contenu avec votre éditeur de texte préféré et repérez les lignes commençant par:</P>
<UL>
<PRE>
RTN_OPT.     : YES
RTEL_PR1.    : 0
RTEL_PR2.    : 0
RTEL_PR3.    : 0
RTEL_PR4.    : 0
RTEL_PR5.    : 0
RTEL_PR6.    : 0
RTEL_PR7.    : 0
RTEL_PR8.    : 0
</PRE>
</UL>

<!-- NEED 1in -->
Changez la ligne <CODE>RTN_OPT</CODE> en:
<UL>
<PRE>
RTN_OPT.     : <B>NO</B>
</PRE>
</UL>

<!-- NEED 2in -->
<P>Cela désactive le protocole "Reverse TELNET" et active le protocole standard TELNET sur le serveur d'impression.
Ensuite, assignez un numéro de port pour chaque port parallèle ou série sur le serveur, comme suit:</P>
<UL>
<PRE>
RTEL_PR1.    : <B>9100</B>
RTEL_PR2.    : <B>9101</B>
RTEL_PR3.    : <B>9102</B>
RTEL_PR4.    : <B>9103</B>
RTEL_PR5.    : <B>9104</B>
RTEL_PR6.    : <B>9105</B>
RTEL_PR7.    : <B>9106</B>
RTEL_PR8.    : <B>9107</B>
</PRE>
</UL>

<!-- NEED 4in -->
<P>Cela a principalement pour effet de forcer le serveur Axis à ressembler à un serveur d'impression 
Hewlett Packard JetDirect EX. Sauvegardez le fichier et installez le sur le serveur d'impression dans le fichier 
<VAR>config</VAR> au moyen de la commande <CODE>ftp</CODE>:</P>
<UL>
<PRE>
<B>ftp adresse-ip ENTREE</B>
Connected to adresse-ip.
220 Axis NPS ### FTP Printer Server V#.## MON DD YEAR ready.
ftp&gt; <B>user root ENTREE</B>
331 User name ok, need password
Password: <B>pass ENTREE</B> <I>(le mot de passe n'est pas affiché)</I>
230 User logged in
ftp&gt; <B>put config CONFIG ENTREE</B>
local: config remote: CONFIG
200 PORT command successful.
150 Opening data connection for config (192,0,2,2), (mode ascii).
226 Transfer complete.
##### bytes received in #.## seconds (##### Kbytes/s)
ftp&gt; <B>get hardreset ENTREE</B>
local: hardreset remote: hardreset
200 PORT command successful.
421 Axis NPS ### hard reset, closing connection.
ftp&gt; <B>quit ENTREE</B>
221 Goodbye.
</PRE>
</UL>
<P>Votre serveur d'impression Axis est à présent opérationnel!</P>

<H2><A NAME="LINKSYS">Configuration de serveurs d'impression Linksys</A></H2>

<P>Les serveurs d'impression LinkSys peuvent être configurés au moyen de ARP, RARP ou BOOTP. Comme certains serveurs
d'impression Axis anciens, une configuration supplémentaire TCP/IP est nécessaire pour les faire fonctionner avec CUPS
<!-- NEED 3in -->
</P>
<P>Chaque serveur d'impression possède une fichier de configuration nommé <VAR>config</VAR>
qui contient la liste des paramètres réseau à utiliser par le serveur. Pour modifier ce fichier, vous devez d'abord le
télécharger à partir du serveur d'impression en utilisant le programme <CODE>ftp(1)</CODE>:</P>
<UL>
<PRE>
<B>ftp -n adresse-ip ENTREE</B>
Connected to adress-ip.
220 Print Server Ready.
Remote system type is Print.
ftp&gt; <B>get CONFIG ENTREE</B>
local: CONFIG remote: CONFIG
200 Command OK.
150 Open ASCII Mode Connection.
WARNING! 68 bare linefeeds received in ASCII mode
File may not have transferred correctly.
226 Transfer complete.
##### bytes received in #.## seconds (##### Kbytes/s)
ftp&gt; <B>quit ENTREE</B>
221 Goodbye.
</PRE>
</UL>

<!-- NEED 2in -->
<P>Ensuite, éditez son contenu avec votre éditeur de texte préféré et repérez les lignes commençant par:</P>
<UL>
<PRE>
0100 L1_PROUT:P1
0120 L2_PROUT:P1
0140 L3_PROUT:P1
</PRE>
</UL>
<P>Changez le numéro de port pour chaque port parallèle et série sur le serveur, comme suit:</P>
<UL>
<PRE>
0100 L1_PROUT:<B>P1</B>
0120 L2_PROUT:<B>P2</B>
0140 L3_PROUT:<B>P3</B>
</PRE>
</UL>

<!-- NEED 4in -->
<P>Cela relie chaque imprimante virtuelle à un port physique. Sauvegardez le fichier et installez le sur le serveur d'impression dans le fichier 
<VAR>config</VAR> au moyen de la commande <CODE>ftp</CODE>:</P>
<UL>
<PRE>
<B>ftp -n adresse-ip ENTREE</B>
Connected to adresse-ip.
220 Print Server Ready.
Remote system type is Print.
ftp&gt; <B>put CONFIG ENTREE</B>
local: CONFIG remote: CONFIG
200 Command OK.
150 Open ASCII Mode Connection.
226 Transfer complete.
##### bytes received in #.## seconds (##### Kbytes/s)
ftp&gt; <B>quit ENTREE</B>
221 Goodbye.
</PRE>
</UL>
<P>Votre serveur d'impression SysLink est désomais opérationnel !</P>

<H1 ALIGN="RIGHT"><A NAME="PRINTER_DRIVERS">C - Pilotes d'imprimantes</A></H1>
<P>Cette annexe dresse la liste des pilotes d'imprimantes qui sont fournis avec CUSP.</P>
<H2><A NAME="11_1">Pilotes d'imprimantes</A></H2>
<P>CUPS inclut les pilotes d'imprimantes suivants:</P>
<UL>
<LI><A HREF="#EPSON9">EPSON 9-pin Dot Matrix</A>,<VAR> epson9.ppd</VAR></LI>
<LI><A HREF="#EPSON24">EPSON 24-pin Dot Matrix</A>,<VAR> epson24.ppd</VAR>
</LI>
<LI><A HREF="#STCOLOR">EPSON Stylus Color</A>,<VAR> stcolor.ppd</VAR></LI>
<LI><A HREF="#STPHOTO">EPSON Stylus Photo</A>,<VAR> stphoto.ppd</VAR></LI>
<LI><A HREF="#DESKJET">HP DeskJet</A>,<VAR> deskjet.ppd</VAR></LI>
<LI><A HREF="#LASERJET">HP LaserJet</A>,<VAR> laserjet.ppd</VAR></LI>
</UL>
<H2><A NAME="EPSON9">EPSON 9-pin Dot Matrix</A></H2>
<P>Le pilote EPSON 9-pin Dot Matrix (<VAR>epson9.ppd</VAR>) prend en charge les imprimantes 9 aiguilles qui utilisent le jeu de commandes ESC/P.
Il fournit l'impression en noir et blanc dans les résolutions 60x72, 120x72, et 240x72 PPP (DPI).</P>

<H2><A NAME="EPSON24">EPSON 24-pin Dot Matrix</A></H2>
<P>Le pilote EPSON 24-pin Dot Matrix (<VAR>epson9.ppd</VAR>) prend en charge les imprimantes 24 aiguilles qui utilisent le jeu de commandes ESC/P.
Il fournit l'impression en noir et blanc dans les résolutions 120x180, 180x180, 360x180, et 360x360 PPP (DPI).</P>

<H2><A NAME="STCOLOR">EPSON Stylus Color</A></H2>

<P>Le pilote EPSON Stylus Color (<VAR>stcolor.ppd</VAR>) prend en charge les imprimantes EPSON
 Stylus Color qui utilisent le jeu de commandes ESC/P2.
Il fournit l'impression en couleur (CMYK) ainsi qu'en noir et blanc dans les résolutions 180, 360, et 720 PPP (DPI).</P>

<H2><A NAME="STPHOTO">EPSON Stylus Photo</A></H2>

<P>Le pilote EPSON Stylus Photo (<VAR>stphoto.ppd</VAR>) prend en charge les imprimantes  EPSON
 Stylus Photo  qui utilisent le jeu de commandes ESC/P2.
Il fournit l'impression en couleur (CMYK) ainsi qu'en noir et blanc dans les résolutions 180, 360, et 720 PPP (DPI).</P>

<H2><A NAME="DESKJET">HP DeskJet</A></H2>

<P>Le pilote HP DeskJet (<VAR>deskjet.ppd</VAR>) prend en charge les imprimantes HP DeskJet
qui utilisent le jeu de commandes PCL.
Il fournit l'imrpession en couleur (CMYK) ainsi qu'en noir et blanc dans les résolutions 150, 300, et
 600 PPP (DPI).</P>

<P>Les imprimantes DeskJet qui utilisent le jeu de commandes HP-PPA (720C,
 722C, 820C, and 1100C) <B>ne sont pas</B> prises en charge du fait de l'absence totale de documentation de la part de
Hewlett Packard.</P>

<P>Le "duplexer" fourni avec les imprimantes de la série d'imprimantes HP DeskJet 900 n'est également pas pris en charge pour les mêmes raisons.</P>

<H2><A NAME="LASERJET">HP LaserJet</A></H2>

<P>Le pilote HP LaserJet (<VAR>laserjet.ppd</VAR>) prend en charge les impriamntes HP LaserJet
qui utilisent le jeu de commandes PCL. 
Il fournit l'impression seulement en noir et blanc et prend en charge le "duplexer" s'il est installé.
Il prend en charge les résolutions 150, 300, et 600 PPP (DPI).</P>

<P>Les imprimantes LaserJet qui n'utilisent pas le jeu de commandes PCL (3100, 3150) ne sont pas prises en charge
du fait d'une absence totale de documentation de la part de Hewlett Packard.</P>

<H1 ALIGN="RIGHT"><A NAME="FILES">D - Liste des fichiers</A></H1>

<P>Cette annexe dresse la liste des fichiers et répertoire qui sont installés par CUPS
<CENTER>
<TABLE BORDER="1" WIDTH="80%">
<TR VALIGN="TOP"><TH>Chemin</TH><TH>Description</TH></TR>
<TR VALIGN="TOP"><TD>/etc/cups/certs/</TD>
<TD>Emplacement des fichiers des certificats d'authentification pour les clients HTTP locaux.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/classes.conf</TD>
<TD>Fichiers de configuration des classes d'imprimantes pour l'ordonnanceur.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/cupsd.conf</TD>
<TD>Fichier de configuration de l'ordonnanceur.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/interfaces/</TD>
<TD>Emplacement des scripts d'interface System V pour les imprimantes.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/mime.convs</TD>
<TD>Liste des filtres de fichiers standards inclus dans ESP Print Pro.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/mime.types</TD>
<TD>Liste des types de fichiers reconnus par ESP Print Pro.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/ppd/</TD>
<TD>Emplacement des fichiers PPD ("PostScript Printer Description") pour les imprimantes.</TD></TR>

<TR VALIGN="TOP"><TD>/etc/cups/printers.conf</TD>
<TD>Fichier de configuration des imprimantes pour l'ordonnanceur.</TD></TR>

<TR VALIGN="TOP"><TD>/usr/bin/cancel</TD><TD>La commande d'annulation de travaux System V.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/bin/disable</TD><TD>La commande de désactivation d'imprimante System V.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/bin/enable</TD><TD>La commande d'activation d'imprimante System V.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/bin/lp</TD><TD>La commande d'impression System V.</TD></TR>

<TR VALIGN="TOP"><TD>/usr/bin/lpoptions</TD><TD>Jeu d'options d'impression et de valeurs implicites personnalisées par l'utiliseur.</TD></TR>

<TR VALIGN="TOP"><TD>/usr/bin/lppasswd</TD><TD>Ajoute, modifie et retire des mots de passe pour des comptes "Digest".</TD></TR>
<TR VALIGN="TOP"><TD>/usr/bin/lpq</TD><TD>La commande d'état Berkeley.</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/bin/lpr</TD><TD>La commande d'impression Berkeley.</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/bin/lprm</TD><TD>La commande d'annulation de travaux Berkeley.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/bin/lpstat</TD><TD>La commande d'état System V.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/include/cups/</TD><TD>Fichiers d'en-tête de l'API CUPS.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib32/libcups.a
<BR> /usr/lib32/libcupsimage.a</TD><TD>Librairies statiques (IRIX 6.5)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/libcups.a<BR> /usr/lib/libcupsimage.a</TD>
<TD>Librairies statiques (tous les autres systèmes)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/libcups.sl.2
<BR> /usr/lib/libcupsimage.sl.2</TD><TD>Librairies partagées (HP-UX)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib32/libcups.so.2
<BR> /usr/lib32/libcupsimage.so.2</TD><TD>Librairies partagées (IRIX 6.5)</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/lib/libcups.so.2
<BR> /usr/lib/libcupsimage.so.2</TD><TD>Librairies partagées (tous les autres systèmes)</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/lib/cups/backend/</TD><TD>Programme d'arrière-plan pour connexion à diverses imprimantes.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/cups/cgi-bin/</TD><TD>Programmes CGI pour l'ordonnanceur.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/cups/daemon/</TD><TD>Démons pour la surveillance et pour la prise en charge LPD.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/cups/filter/</TD><TD>Filtres pour divers types de fichiers.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/locale/</TD><TD>Emplacement des fichiers de messages spécifiques à chaque langue. (System V)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/lib/nls/msg/</TD><TD>Emplacement des fichiers de messages spécifiques à chaque langue. (Compaq Tru64 UNIX)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/locale/</TD><TD>Emplacement des fichiers de messages spécifiques à chaque langue. (GNU/Linux, *BSD)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/sbin/accept</TD><TD>La commande d'acceptation de travaux.</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/sbin/cupsd</TD><TD>L'ordonnanceur CUPS.</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/sbin/lpadmin</TD><TD>L'outil d'administration d'imprimante System V.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/sbin/lpc</TD><TD>L'outil d'administration d'imprimante Berkeley.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/sbin/lpinfo</TD><TD>Les commandes "get-devices" et "get-ppds".</TD></TR>
<TR VALIGN="TOP"><TD>/usr/sbin/lpmove</TD><TD>La commande "move-jobs".</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/sbin/reject</TD><TD>La commande "reject-jobs".</TD>
</TR>
<TR VALIGN="TOP"><TD>/usr/share/catman/a_man/
<BR> /usr/share/catman/u_man/</TD><TD>Pages de manuel (IRIX)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/man/</TD><TD>Pages de manuel (Compaq Tru64
 UNIX, HP-UX, Solaris)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/man/</TD><TD>Pages de manuel (tous les autres systèmes)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/data/</TD><TD>Emplacement des fichiers de données des filtres.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/data/testprint.ps</TD><TD>Fichier de page de test PostScript.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/fonts/</TD><TD>Emplacement des polices de caractères PostScript pour le RIP PostScript.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/model/</TD><TD>
Emplacement des fichiers PPD ("PostScript Printer Description") et des scripts d'interface pouvant être employés pour configurer une file d'impression.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/pstoraster/</TD><TD>
D'autres fichiers d'initialisation du RIP PostScript.</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/pstoraster/Fontmap</TD><TD>
Le fichier de conversion de polices (convertit des noms de fichiers en noms de polices)</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/cups/templates/</TD><TD>Emplacement des fichiers "templates" HTML pour l'interface "web".</TD></TR>
<TR VALIGN="TOP"><TD>/usr/share/doc/cups/</TD><TD>Documentation et données des pages "web" pour l'ordonnanceur.</TD></TR>
<TR VALIGN="TOP"><TD>/var/log/cups/</TD><TD>Emplacement des fichiers de suivi de l'ordonnanceur.</TD></TR>
<TR VALIGN="TOP"><TD>/var/spool/cups/</TD><TD>Emplacement des fichiers d'impression en attente de traitement.</TD></TR>
</TABLE>
</CENTER>
</P>
<H1 ALIGN="RIGHT"><A NAME="FAQ">E - Résoudre les problèmes courants</A></H1>

<P>Cette annexe couvre certains des problèmes courants rencontrés par les utilisateurs lors de la première
installation / configuration / utilisation de CUPS.</P>
<P>Le support commercial de CUPS est disponible auprès d'Easy Software Products.
Pour plus d'informations, veuillez nous contacter:</P>
<UL>
<LI>WWW:<A HREF="http://www.easysw.com"> <CODE>http://www.easysw.com</CODE>
</A></LI>
<LI>EMail:<A HREF="mailto:info@easysw.com"> info@easysw.com</A></LI>
<LI>Telephone (M-F, 9-5 EST): +1.301.373.9600</LI>
</UL>

<H2><A NAME="13_1">Mes applications ne voient pas les imprimantes disponibles</A></H2>

<P>Beaucoup d'applications lisent le contenu du fichier <VAR>/etc/printcap</VAR> pour obtenir la liste des imprimantes disponibles.</P>

<P>La configuration standard de CUPS ne crée pas ce fichier <VAR>/etc/printcap</VAR> automatiquement. Pour activer la création
et la mise à jour automatiques de ce fichier, utilisez la directive <A HREF="#Printcap"><CODE>Printcap</CODE></A>décrite au 
<A HREF="#PRINTING_MANAGEMENT">Chapitre 6, &quot;Administration du système d'impression&quot;</A>.</P>

<H2><A NAME="13_2">CUPS ne reconnaît pas mon nom d'utilisateur et mon mot de passe!</A></H2>

<P>CUPS vous demandera un nom d'utilisateur UNIX et un mot de passe lorsque vous effectuerez des tâches d'administration 
à distance ou au moyen d'un navigateur "web". La configuration standard de CUPS nécessite que vous utilisiez le nom d'utilisateur
<CODE>root</CODE> et son mot de passe correspondant pour authentifier la requête.</P>

<P>Pour des raisons de sécurité, CUPS ne vous autorise pas à authentifier une requête d'administration au moyen d'un compte dépourvu de mot de passe. Si vous n'avez pas de mot de passe pour le compte <CODE>root</CODE>, vous ne pourrez pas faire d'administration
à distance ou via un navigateur "web" !
<!-- NEED 2in -->
</P>
<P>Pour désactiver l'authentification par mot de passe vous devez éditer le contenu du fichier 
<VAR>/etc/cups/cupsd.conf</VAR> et commenter les lignes:</P>
<UL>
<PRE>
AuthType Basic
AuthClass System
</PRE>
</UL>
pour l'emplacement <VAR>/admin</VAR>. Redémarrez alors le serveur CUPS comme indiqué dans le 
<A HREF="#PRINTING_MANAGEMENT">Chapitre 6, &quot;Administration du serveur d'impression&quot;</A>.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Désactiver les vérifications de mot de passe autorisera tout utilisateur local à modifier les imprimantes et les classes,
mais l'administration distante depuis un autre poste ne sera toujours pas autorisée.</P>
</TD></TR>
</TABLE>
</CENTER>
<H2><A NAME="ALLOW_REMOTE">Je ne peux pas effectuer de tâches d'administration depuis un poste distant!</A></H2>

<P>La configuration standard de CUPS limite l'administration au poste local. Pour ouvrir l'accès, éditez le contenu du
fichier <VAR>/etc/cups/cupsd.conf</VAR> et commentez les lignes:</P>
<UL>
<PRE>
Order deny,allow
Deny from all
Allow from 127.0.0.1
</PRE>
</UL>
pour l'emplacement <VAR>/admin</VAR>. Redémarrez alors le serveur CUPS comme indiqué dans le 
<A HREF="#PRINTING_MANAGEMENT">Chapitre 6, &quot;Administration du serveur d'impression&quot;</A>.
<CENTER>
<TABLE BGCOLOR="#cccccc" BORDER="1" CELLPADDING="5" WIDTH="80%">
<TR><TD><B> NOTE:</B>
<P>Autoriser l'accès à l'administration pour tous les hôtes présente un risque potentiel de sécurité. Veuillez vous reporter
au <A HREF="#PRINTING_MANAGEMENT">Chapitre 6, &quot;Administration du serveur d'impression&quot;</A> pour une description de
ces risques ainsi que des méthodes pour les minimiser.</P>
</TD></TR>
</TABLE>
</CENTER>

<!-- NEED 4in -->
<H2><A NAME="13_4">Je ne peux pas effectuer de tâches d'administration depuis mon navigateur "web"!</A>
</H2>
<P>Ce problème est généralement dû:</P>
<OL>
<LI>au fait de donner le mauvais mot de passe pour le compte root.</LI>
<LI>au fait d'accéder au serveur CUPS en utilisant le nom d'hôte ou l'adresse IP sans activer l'accès à distance pour les fonctions d'administration.
Cela peut être corrigé en suivant les instructions présentes dans la section <A HREF="#ALLOW_REMOTE">
 &quot;Je ne peux pas effectuer de tâches d'administration depuis un poste distant!&quot;</A> étudiée précédemment dans cette
annexe.</LI>
<LI>au fait de ne pas avoir de mot de passe pour le compte root. Pour des raisons de sécurité, CUPS n'authentifiera pas les comptes utilisateur dépourvus de mot de passe.</LI>
<LI>au fait de s'authentifier au moyen d'un compte distinct de root mais qui n'est pas membre du groupe system.</LI>
<LI>au fait de configurer CUPS pour utiliser l'authentification "Digest" et tenter d'y accéder au moyen d'un navigateur
"web" ne prenant pas en charge ce type d'authentification.</LI>
</OL>
<H2><A NAME="13_5">Messages "Connection Refused"</A></H2>

<P>Dans des circonstances normales, des messages &quot;connection refused&quot; pour une imprimante réseau peuvent être
rencontrés de temps en temps. La plupart des interfaces réseau autorisent une unique connexion à un instant donné (un travail
à la fois) et refuseront l'accès à tous les autres systèmes tant que la première connexion sera active. CUPS retente automatiquement
de se connecter toutes les 30 secondes.</P>

<P>Si le problème persiste et que vous ne pouvez imprimer aucun travail sur l'imprimantes, vérifiez qu'une autre machine
ne maintient pas une connexion avec l'imprimante, et que vous avez sélectionné le bon port ou le bon nom d'imprimante.</P>

<P>De même, la plupart des serveurs d'impression externes refuseront les connexions si une imprimante est hors tension 
ou hors ligne. Vérifiez que l'imprimante affectée est sous tension et en ligne.</P>

<H2><A NAME="13_6">Message "Write Error"</A></H2>

<P>Si vous obtenez des messages &quot;write error&quot; sur une file d'impression, l'interface de l'imprimante (généralement
une interface Hewlett Packard JetDirect) a dépassé le délai d'attente maximum et résilié la connexion réseau avec votre poste
de travail.</P>

<P>L'erreur est causée par le délai d'amorçage qui existe entre l'établissement initial de la connexion à l'imprimante et
l'envoi effectif des données de la première page imprimée.<!-- NEED 3in -->
</P>
<P>
Pour corriger le problème, chagez la valeur du délai d'attente de l'interface et amenez sa valeur à un minimum de 180 secondes soit
3 minutes. Pour changer le délai sur une interface Hewlett Packard JetDirect, tapez:</P>
<UL>
<PRE>
<B>telnet adresse-ip ENTER</B>

Trying adresse-ip...
Connected to adresse-ip.
Escape character is `^]'.

Please type [Return] two times, to initialize telnet configuration
For HELP type &quot;?&quot;
&gt; <B>idle-timeout: 180 ENTREE</B>
&gt; <B>quit ENTREE</B>
</PRE>
</UL>
</BODY>
</HTML>

